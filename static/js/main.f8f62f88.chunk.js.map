{"version":3,"sources":["components/RangeLegend.js","components/CategoryLegend.js","components/BoundarySelector.js","components/FacilitiesSelector.js","components/HelpTab.js","components/InfoTab.js","hooks/useCCFs.js","components/CCFSearch.js","components/OutreachAssetSelector.js","icons/laundry_484949.svg","icons/laundry_A44098_alert.svg","icons/laundry_A44098.svg","components/OutreachTab.js","components/Legend.js","colors.js","components/PieCard.js","components/FactCard.js","components/AssetCategoryCard.js","components/DetailsSelector.js","components/ProgressBar.js","components/LanguageCard.js","components/Details.js","hooks/useFacilities.js","Layers.js","hooks/useFacilitiesLayer.js","hooks/useOutreachLayers.js","components/PDFDoc.js","components/PrintDialog.js","components/OutreachUserGuide.js","components/CCFDetails.js","pages/MainPage.js","hooks/useCCFAssignments.js","hooks/useOutreachTargets.js","hooks/useMap.js","hooks/useGeoJSONLayer.js","hooks/useBoundaryLayers.js","App.js","serviceWorker.js","index.js"],"names":["RangeLegend","name","min","max","colStart","colEnd","gradient","console","log","className","style","background","CategoryLegend","categories","map","category","key","backgroundColor","color","sub","BoundarySelector","boundaries","selectedBoundary","onSelect","options","Object","entries","value","label","datasetName","onChange","a","placeholder","FacilitiesSection","title","selected","useState","expanded","setExpanded","selectedInThisCategory","filter","o","includes","allSelected","length","onClick","icon","faAngleDown","faAngleRight","type","checked","e","selectAll","target","option","FacilitiesSelector","onSelected","section","HelpTab","href","src","classNmae","useCCFs","CCFs","setCCFs","useEffect","Papa","parse","process","download","header","complete","results","data","d","address","latitude","Latitude","longitude","Longitude","CCFSearch","sorted_options","op","sort","find","search","OutreachAssetsSection","layer","OutreachAssetsSelector","_extends","assign","i","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","transform","fill","id","_ref","svgRef","props","viewBox","ref","ForwardRef","forwardRef","ry","rx","cy","cx","strokeWidth","strokeMiterlimit","stroke","OutreactTab","selectedCCF","onSelectedCCF","selectedOutreachTypes","onSelectOutreachTypes","width","height","Legend","onSelectBoundary","showFacilities","onShowFacilitiesChange","tab","onTabChanged","onSelectMetric","metric","selectedFacilityTypes","onSelectFacilityType","onPrint","shareURL","showENRFU","onToggleENRFU","faLayerGroup","faExclamationCircle","faInfoCircle","faQuestionCircle","text","window","location","marginTop","display","justifyContent","colors","renderCustomizedLabel","midAngle","innerRadius","outerRadius","percent","radius","index","x","Math","cos","RADIAN","y","sin","textAnchor","dominantBaseline","toFixed","PI","PieCard","colData","labelLine","isAnimationActive","entry","FactCard","facts","fact","toLocaleString","AssetCategoryCard","assets","ceil","asset","boro","city","zipcode","join","DetailsSelector","isSelected","ProgressBar","pc","LanguageCard","sorted_data","b","slice","floor","Details","feature","facilities","onSelectFacility","tract","facilityTypes","showBoundaryData","setShowBoundaryData","selectedDetails","setSelectedDetails","filteredFacilities","types","layerIDs","cd","tracts","cc","sd","nta","police_precincts","congress_districts","senate_districts","NOCCs","useMemo","features","facility","properties","asset_type","f","useFilteredFacilities","geoid","GEOID","featureName","nat","state_assembly_districts","displayFeature","downloadAssets","useCallback","csv","blob","Blob","boundaryType","boundaryId","saveAs","Fragment","nocc_id","neighborhood","total_population","htc_pop","MRR2010","strategy_code","contactStrategy","faDownload","detail","CRRALL","fontWeight","HISTORIC_RESP_RATE","english_asian","english_spanish","english_european","english_other","makeEnglishData","norm","bilingual","english_total_households","english_english","col","makeLanguage","race_white","race_total","race_black","race_asian","race_hispanic","race_other","makeDemographicData","foreign_born_native","foreign_born_foreign","makeForeignData","age_less_5","age_6_15","age_16_64","age_64_over","makeAgeData","internet_no_access","internet_subscription","internet_no_subscription","makeInternetData","own_vs_rent_rent","own_vs_rent_owner","makeRenting","fillStyles","responseRate","strategy","blackPop","asianPop","latinxPop","whitePop","otherPop","noInternetPC","englishProficency","under5","returnCount","HTCLayer","url","paintFill","paintLine","EarlyNRFU","BoundaryLayers","polygons","labels","nameCol","nameAlt","useFacilitiesLayer","visible","selectedTypes","reduce","set","add","Set","current","on","Promise","all","img","resolve","reject","loadImage","error","res","addImage","loadAllImages","then","forEach","addLayer","layout","visibility","paint","setVisibility","shouldBeVisable","loaded","setLayoutProperty","setTimeout","name_fields","autorepairshops_nyc_geocoded","bank_owned_atmlocations_nyc_geocodio","bodegas_grocers_nyc","chain_grocerystores_nyc_geocoded","doe_schools_nyc","dohmh_farmers_markets","foodkitchens_nyc","homelessshelters_nyc","hospitalsandhealthclinics_nyc","liquor_winestores_nyc_geocoded","nyc_gas_station_locations_geoclient_enriched","post_offices","seniorservices_nyc_geocoded","laundromats_nyc","type_map","generateICON","claimedBy","pending","iconType","generateOutreachData","targets","assignments","ccfs","assignment","parseInt","ccf","c","Status","useOutreachLayer","outreachTragets","getSource","setData","triggerRepaint","addSource","coordinates","geometry","getLayer","styles","StyleSheet","create","page","flexDirection","margin","padding","flexGrow","alignItems","PDFDoc","mapImage","mapImageRatio","innerHeight","innerWidth","orientation","size","debugg","PrintDialog","onClose","flex","steps","OutreactUserGuide","paddingTop","step","CCFDetails","selectedTab","setSelectedTab","boxSizing","textDecoration","MainPage","mapDiv","useRef","setSelectedBoundary","selectedTract","setSelectedTract","selectedFeature","setSelectedFeature","setHardToCountStats","setSelectedCCF","popupFeature","setPopupFeature","setSelectedFacilityTypes","setSelectedOutreachTypes","setMetric","setShowNRFU","showPrintDialog","setShowPrintDialog","showOutreach","setShowOutreach","setShowFacilities","setMapImage","setTab","ccfAssigments","CCFBizCrosswalk","setCCFBizCrosswalk","intervalRef","getData","papa","random","setInterval","clearInterval","useCCFAssignments","outreachTargets","setTargets","targetTableList","t","fetch","r","json","unique_id","all_features","reducedTargets","useOutreachTargets","ReactGA","initialize","pageview","pathname","mapDivRef","lnglat","zoom","mapboxgl","accessToken","popup","spriteURL","Map","container","sprite","center","preserveDrawingBuffer","addControl","MapboxGeocoder","ScaleControl","NavigationControl","Popup","offset","setLngLat","setHTML","addTo","remove","zoomToBounds","bounds","fitBounds","useMap","params","queryString","nrfu","boundaryID","zoomToFeature","isStyleLoaded","querySourceFeatures","sf","turf","units","searchBox","Layers","setTractIfActive","boundaryLayers","sourceLayer","selection","fillLayer","lineLayer","source_name","oldSelectionID","metricChangeTimeout","setFeatureState","setPaint","setPaintProperty","clearTimeout","useGeoJSONLayer","selectedLayer","selectedVar","onSelectLayer","selectedGeomID","layers","setLayers","boundaryLayerChangeTimeout","layerList","sourceName","layerDeets","sourceLabels","labelLayer","updateVisibility","useBoundaryLayers","boundary","setFacilities","useFacilities","useOutreachLayers","origin","newList","imageURL","document","getElementsByClassName","toDataURL","App","basename","path","component","Boolean","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f8f62f88.chunk.js","sourcesContent":["import React from 'react';\n\nexport default function RangeLegend({name, min, max, colStart, colEnd}) {\n  const gradient = `linear-gradient(90deg, ${colStart} 0%, ${colEnd} 100%)`;\n\n  console.log('gradient is ', gradient);\n  return (\n    <div className=\"range-legend\">\n      <div\n        className=\"range-legend-bar\"\n        style={{\n          background: gradient,\n        }}\n      />\n      <div className=\"range-legend-labels\">\n        <p>{min}</p> <p>{max}</p>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faCircle } from \"@fortawesome/free-solid-svg-icons\";\n\nexport default function CategoryLegend({ categories }) {\n    return (\n        <section className=\"category-layer\">\n            <ul>\n                {categories.map(category => (\n                    <li key={category.name} className=\"category-entry\">\n                        <div\n                            className=\"category-marker\"\n                            style={{ backgroundColor: category.color }}\n                        />\n                        <div className=\"category-name\">\n                            {category.name}\n                            {category.sub && (\n                                <p className=\"category-sub\">{category.sub}</p>\n                            )}\n                        </div>\n                    </li>\n                ))}\n            </ul>\n        </section>\n    );\n}\n","import React from 'react';\nimport Dropdown from 'react-dropdown';\nimport 'react-dropdown/style.css';\n\nexport default function BoundarySelector({\n  boundaries,\n  selectedBoundary,\n  onSelect,\n}) {\n  const options = Object.entries(boundaries).map(([id, layer]) => ({\n    value: id,\n    label: layer.datasetName,\n  }));\n  return (\n    <section className=\"boundary-selector\">\n      <h3>Boundaries</h3>\n\n      {boundaries && (\n        <Dropdown\n          options={[{value: 'tracts', label: 'Census Tracts'}, ...options]}\n          onChange={a => onSelect(a.value)}\n          value={selectedBoundary}\n          placeholder=\"Select a boundary\"\n        />\n      )}\n    </section>\n  );\n}\n","import React, { useState } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAngleRight, faAngleDown } from \"@fortawesome/free-solid-svg-icons\";\n\nfunction FacilitiesSection({ title, options, selected, onSelect }) {\n    const [expanded, setExpanded] = useState(false);\n    const selectedInThisCategory = options.filter(o => selected.includes(o));\n    const allSelected = selectedInThisCategory.length === options.length;\n\n    const onSelectAll = selectAll => {\n        if (selectAll) {\n            onSelect(options.filter(o => !selected.includes(o)));\n        } else {\n            onSelect(options.filter(o => selected.includes(o)));\n        }\n    };\n    return (\n        <section>\n            <div className=\"facilities-section-header\">\n                <FontAwesomeIcon\n                    onClick={() => setExpanded(!expanded)}\n                    icon={expanded ? faAngleDown : faAngleRight}\n                />{\" \"}\n                <input\n                    type=\"checkbox\"\n                    checked={allSelected}\n                    onChange={e => onSelectAll(e.target.checked)}\n                />\n                <h4 onClick={() => setExpanded(!expanded)}>\n                    {title} ({selectedInThisCategory.length}/{options.length})\n                </h4>\n            </div>\n            {expanded && (\n                <ul>\n                    {options.map(option => (\n                        <li key={option} className=\"facilities-option\">\n                            <input\n                                type=\"checkbox\"\n                                checked={selected.includes(option)}\n                                onChange={() => onSelect([option])}\n                            />\n                            {option}\n                        </li>\n                    ))}\n                </ul>\n            )}\n        </section>\n    );\n}\n\nexport default function FacilitiesSelector({ selected, onSelected }) {\n    const sections = [\n        {\n            title: \"Educational Assets\",\n            options: [\n                \"Head Start and Early Head Start\",\n                \"Universal Pre-K\",\n                \"K-12 (NYC Public Schools)\",\n                \"Community Schools\",\n                \"Public Libraries\"\n            ]\n        },\n\n        {\n            title: \"Services and Programs\",\n            options: [\n                \"Shelters\",\n                \"Food Kitchens and Pantries\",\n                \"Senior Centers\",\n                \"Mental Health Services\",\n                \"Hospitals and Rehab Centers\",\n                \"LGBTQ Centers and Services\",\n                \"NYCHA Developments\"\n            ]\n        },\n\n        {\n            title: \"Neighborhood Institutions\",\n            options: [\n                \"Community-Based Organizations\",\n                \"Faith-Based Organizations\",\n                \"Community Centers and YMCA's\"\n            ]\n        }\n    ];\n    const [expanded, setExpanded] = useState({\n        \"Education Assets\": false\n    });\n    return (\n        <div className=\"facilities-selector\">\n            <h3>Community Assets</h3>\n            {sections.map(section => (\n                <FacilitiesSection\n                    key={section.title}\n                    title={section.title}\n                    options={section.options}\n                    selected={selected}\n                    onSelect={option => onSelected(option)}\n                />\n            ))}\n        </div>\n    );\n}\n","import React from \"react\";\n\nexport default function HelpTab() {\n    return (\n        <div className=\"help-tab\">\n            <section>\n                <h3>ABOUT</h3>\n\n                <p>\n                    This interactive map was created by{\" \"}\n                    <a href=\"https://hesterstreet.org/\" target=\"_blank\">\n                        Hester Street\n                    </a>{\" \"}\n                    in partnership with{\" \"}\n                    <a href=\"http://stuartlynn.me/\">Stuart Lynn</a>. Hester\n                    Street is an urban planning, design and development\n                    nonprofit that works to ensure neighborhoods are shaped by\n                    the people who live in them.\n                </p>\n                <p>\n                    This work was made possible with the support of the NYC\n                    Census 2020 and CUNY Complete Count Fund.\n                </p>\n                <p>\n                    If you have additional assets, services or neighborhood\n                    institutions to contribute to the map, please email{\" \"}\n                    <a href=\"2020Census@hesterstreet.org\">\n                        2020Census@hesterstreet.org\n                    </a>{\" \"}\n                    with the subject line \"New interactive map assets\". Be sure\n                    to include the following information for each asset\n                </p>\n                <ul className=\"dashed\">\n                    <li>Name </li>\n                    <li>Address</li>\n                    <li>Layer it should be added to</li>\n                </ul>\n                <img src=\"imgs/HS_Logo_Blk_RGB.png\" />\n            </section>\n        </div>\n    );\n}\n","import React from \"react\";\n\nexport default function HelpTab() {\n    return (\n        <div className=\"help-tab\">\n            <section>\n                <h3>INFORMATION</h3>\n                <h3>Context Layers</h3>\n                <p>\n                    The base context layers for the map are supplied by\n                    OpenStreetMap>\n                </p>\n            </section>\n            <section>\n                <h3>Asset Layers</h3>\n                <h4>Educational Assets </h4>\n\n                <p>\n                    These layers identify the location of educational\n                    facilities. Children are a historically undercounted\n                    community; it will be important to reach parents at Head\n                    Start, Early Head Start, Universal Pre-K, K-12 (NYC Public\n                    Schools), and Community Schools. Other assets include public\n                    libraries, which can be hubs for engaging the wider\n                    community. These layers do not include a comprehensive list\n                    of charter, parochial, or private schools.\n                </p>\n                <p className=\"source\">\n                    Sources:{\" \"}\n                    <a\n                        target=\"_blank\"\n                        href=\"https://data.cityofnewyork.us/City-Government/Facilities-Database-Shapefile/2fpa-bnsx\"\n                    >\n                        Department of City Planning. (2019). City Planning\n                        Facilities Database.\n                    </a>\n                </p>\n\n                <h4>Services and Programs</h4>\n\n                <p>\n                    These layers identify various locations where New Yorkers\n                    access services, assistance or programs. The assets in this\n                    list can help you engage a range of historically\n                    undercounted communities, like low-income individuals,\n                    people experiencing homelessness, people that live with\n                    mental or physical disabilities, people who do not live in\n                    traditional housing and LGBTQ individuals. These layers do\n                    not include all services and programs serving these\n                    populations. If we are missing any important services in\n                    your community, please let us know by emailing{\" \"}\n                    <a\n                        target=\"_blank\"\n                        href=\"mainto:2020Census@hesterstreet.org\"\n                    >\n                        2020Census@hesterstreet.org\n                    </a>\n                </p>\n                <p className=\"sources\">\n                    Sources:{\" \"}\n                    <a\n                        target=\"_blank\"\n                        href=\"https://data.cityofnewyork.us/City-Government/Facilities-Database-Shapefile/2fpa-bnsx\"\n                    >\n                        Department of City Planning. (2019). City Planning\n                        Facilities Database\n                    </a>\n                    .\n                    <a\n                        target=\"_blank\"\n                        href=\"https://gaycenter.org/recovery-health/health/lgbthealth-network/#networkmembers\"\n                    >\n                        The Lesbian, Gay, Bisexual and Transgender Community\n                        Center. (2019). LGBTQ Health and Human Services Network\n                        Members.\n                    </a>\n                    <a\n                        target=\"_blank\"\n                        href=\"https://nycopendata.socrata.com/Health/Mental-Health-Service-Finder-Data/8nqg-ia7v\n\"\n                    >\n                        Office of the Mayor. (2018). NYC Mental Health Service\n                        Finder Data.\n                    </a>\n                </p>\n\n                <h4>Neighborhood Institutions</h4>\n                <p>\n                    These layers identify institutions where residents gather,\n                    like faith-based organizations, community centers and\n                    community-based organizations. These neighborhood\n                    institutions can become your partners for Census efforts.\n                    These layers do not include a comprehensive list of all\n                    institutions serving your neighborhood populations. If we\n                    are missing any important institutions in your community,\n                    please let us know by emailing{\" \"}\n                    <a href=\"mailto:2020Census@hesterstreet.org\">\n                        2020Census@hesterstreet.org\n                    </a>\n                </p>\n\n                <p>\n                    Sources:{\" \"}\n                    <a\n                        target=\"_blank\"\n                        href=\"https://data.cityofnewyork.us/City-Government/Facilities-Database-Shapefile/2fpa-bnsx\"\n                    >\n                        Department of City Planning. (2019). City Planning\n                        Facilities Database.{\" \"}\n                    </a>\n                    United Way of New York City, New York Immigration Coalition,\n                    and Hester Street Partner databases in NYC.\n                </p>\n            </section>\n            <section>\n                <h3>Census 2020 Info Layers</h3>\n\n                <h4>Mail Contact Strategy</h4>\n\n                <p>\n                    This dataset shows how US Census Bureau’s plan to contact\n                    each household in the United States. Understanding your\n                    target areas Mail Contact Strategy will help you spread the\n                    word to your community about how they can self-respond to\n                    the Census. In the case of New York City, the forms of\n                    contact include four methods divided into two categories:\n                    Internet First and Internet Choice.\n                </p>\n\n                <p>\n                    Internet First (marked as purple on the map) are areas that\n                    are more likely to respond first online. These households\n                    will receive an invitation to complete the census online.\n                    Areas marked in dark purple will be sent an invitation in\n                    English, while areas marked in light purple will be sent an\n                    invitation in both English and Spanish.\n                </p>\n\n                <p>\n                    Internet Choice (marked as green on the map) are areas that\n                    are less likely to respond online. These households will\n                    receive a paper questionnaire, along with an invitation to\n                    complete the census online or by phone. Areas marked in dark\n                    green will be sent an invitation in English, while areas\n                    marked in light green will be sent an invitation in both\n                    English and Spanish.\n                </p>\n                <p className=\"sources\">\n                    Source: NYC Census 2020 Early NRFU Early NRFU stands for\n                    “Early Non-Response Follow Up”. Non-Response Follow Up is a\n                    contact method the Census Bureau uses to collect information\n                    for those households who have not self-responded to the\n                    Census. During the NRFU period, Census enumerators will\n                    visit households and administer the questionnaire. “Early\n                    NRFU” areas will receive enumerators on April 9th, so the\n                    Census can capture college and university students who live\n                    in off-campus housing before the end of the spring semester\n                    when they may leave for another residence. Source: NYC\n                    Census 2020 2010 Mail Return Rate The 2010 Mail return rate\n                    is the percentage of households who self-responded to the\n                    Census in 2010. Self-response is the more accurate way for\n                    every New Yorker to be counted, so the return rate allows us\n                    to identify areas that have been undercounted in the past\n                    and are at risk of being undercounted again during the 2020\n                    Census. We call this areas “historically undercounted\n                    communities” or “Hard-to-Count areas”. The NYC Census 2020\n                    Team plans to push the City’s Self-Response rate from 62% to\n                    the national average of 76% or higher. Source:U.S. Census\n                    Bureau. (2012). 2012 Planning Database.\n                </p>\n            </section>\n            <section>\n                <h3>Boundary Layers</h3>\n\n                <p>\n                    New York City has many geographic boundaries; all used by\n                    different groups for different purposes. Depending on your\n                    needs, using a specific boundary can help you better\n                    understand your target population.\n                </p>\n                <p>\n                    We want to note that the “NOCC Neighborhoods” boundary\n                    slightly differs from actual boundaries for the\n                    neighborhoods of NYC. This layer specifically pertains to\n                    NOCC leaders for the NYC Census effort and their defined\n                    neighborhood boundaries.\n                </p>\n                <p className=\"sources\">\n                    Sources: NYC Census 2020 NYC Open Data 2018 US Census Bureau\n                    2018\n                </p>\n            </section>\n            <section>\n                <h3>Demographic Layers</h3>\n                <p>\n                    We included data on the demographics of individuals who are\n                    considered undercounted populations. These layers can help\n                    you better hone in on your target populations. For example,\n                    comparing race to internet access can show where areas of\n                    NYC have no internet in relation to which racial group lies\n                    primarily in those areas).\n                </p>\n\n                <p>\n                    For Internet Access: Limited Internet refers to those with\n                    cellular data plans and Internet access without a\n                    subscription. Internet subscription includes any kind of\n                    broadband access, fiber optic, DSL and/or satellite\n                    subscriptions. Internet Access is an extremely important\n                    dataset because the US Census Bureau is not mailing\n                    questionnaires to 80% of national households, and will be\n                    requesting households to fill out the Census online or over\n                    the phone. You can view where certain areas will and will\n                    not receive paper questionnaires by turning on the Mail\n                    Contact Strategies layers under Important Layers.\n                </p>\n                <p classNmae=\"sources\">\n                    Source: US Census Bureau, American Community Survey 5-Year\n                    Data 2018\n                </p>\n            </section>\n        </div>\n    );\n}\n","import { useState, useEffect } from \"react\";\nimport Papa from 'papaparse'\n\nexport function useCCFs() {\n    const [CCFs, setCCFs] = useState([]);\n    useEffect(() => {\n        Papa.parse(`${process.env.PUBLIC_URL}/CCFAwardeesWithColors.csv`, {\n            download:true,\n            header:true,\n            complete: function(results) {\n                setCCFs(results.data.map(d => ({\n                    name : d['Org Name'], \n                    address:d['Contact Address w/o Unit'],\n                    latitude: d.Latitude,\n                    longitude: d.Longitude,\n                    color: d.color\n                })));\n            }\n        });\n    }, []);\n\n    return CCFs;\n}\n\nexport function useFilteredCCFs(query) {\n    const ccfs = useCCFs();\n    return ccfs.filter(c => c.name.includes(query));\n}\n","import React from \"react\";\nimport SelectSearch from \"react-select-search\";\nimport \"./selectSearch.css\";\nimport { useCCFs } from \"../hooks/useCCFs\";\n\nexport default function CCFSearch({ selected, onSelected }) {\n    // const options = [\n    //     { name: \"Test1\", value: \"t1\" },\n    //     { name: \"Test2\", value: \"t2\" },\n    //     { name: \"Test3\", value: \"t3\" },\n    //     { name: \"Test4\", value: \"t4\" },\n    //     { name: \"Test5\", value: \"t5\" }\n    // ];\n    const options = useCCFs();\n    const sorted_options= options.filter(op=>op.name!=='NYC Census 2020 Field Team').sort((op)=>op.name).map(d=> ({name:d.name, value:d.name}))\n    const fieldTeam = {name:'NYC Census 2020 Field Team', value:'NYC Census 2020 Field Team'}            \n\n    return (\n        <div className=\"cff-search\">\n            {options.length > 0  ?\n            \n       \n            <SelectSearch\n                options={[fieldTeam, ...sorted_options]}\n                name=\"CCF\"\n                placeholder=\"Select Grantee\"\n                onChange={(option)=>{\n                    onSelected(options.find(o=>o.name===option))\n                }}\n                value={selected ? [selected.name] : []}\n                search\n            />\n            :\n            <h3>Loading</h3>\n            }\n        </div>\n    );\n}\n","import React, { useState } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAngleRight, faAngleDown } from \"@fortawesome/free-solid-svg-icons\";\n\nfunction OutreachAssetsSection({ title, options, selected, onSelect }) {\n    const [expanded, setExpanded] = useState(false);\n    const selectedInThisCategory = options.filter(o => selected.includes(o.layer));\n    const allSelected = selectedInThisCategory.length === options.length;\n\n    const onSelectAll = selectAll => {\n        if (selectAll) {\n            onSelect(options.filter(o => !selected.includes(o.layer)).map(o=>o.layer));\n        } else {\n            onSelect(options.filter(o => selected.includes(o.layer)).map(o=>o.layer));\n        }\n    };\n    return (\n        <section>\n            <div className=\"facilities-section-header\">\n                <FontAwesomeIcon\n                    onClick={() => setExpanded(!expanded)}\n                    icon={expanded ? faAngleDown : faAngleRight}\n                />{\" \"}\n                <input\n                    type=\"checkbox\"\n                    checked={allSelected}\n                    onChange={e => onSelectAll(e.target.checked)}\n                />\n                <h4 onClick={() => setExpanded(!expanded)}>\n                    {title} ({selectedInThisCategory.length}/{options.length})\n                </h4>\n            </div>\n            {expanded && (\n                <ul>\n                    {options.map(option => (\n                        <li key={option.label} className=\"facilities-option\">\n                            <input\n                                type=\"checkbox\"\n                                checked={selected.includes(option.layer)}\n                                onChange={() => onSelect([option.layer])}\n                            />\n                            {option.name}\n                        </li>\n                    ))}\n                </ul>\n            )}\n        </section>\n    );\n}\n\nexport default function OutreachAssetsSelector({ selected, onSelected }) {\n    // const sections = [\n    //     {\n    //         title: \"Financial Institutions\",\n    //         options: [\n    //             \"Head Start and Early Head Start\",\n    //             \"Universal Pre-K\",\n    //             \"K-12 (NYC Public Schools)\",\n    //             \"Community Schools\",\n    //             \"Public Libraries\"\n    //         ]\n    //     },\n\n    //     {\n    //         title: \"Laundromats\",\n    //         options: [\"Laundromats\"]\n    //     },\n\n    //     {\n    //         title: \"Food + Medical Supplies\",\n    //         options: [\n    //             \"Grocery Stores with Senior-only Hours\",\n    //             \"Bodegas / Grocers\",\n    //             \"Farmer's markets\",\n    //             \"Liquor Stores's\"\n    //         ]\n    //     },\n\n    //     {\n    //         title: \"Repair Services\",\n    //         options: [\"Auto Repair Shops\"]\n    //     },\n\n    //     {\n    //         title: \"Social Services\",\n    //         options: [\n    //             \"Child Care Services\",\n    //             \"Homebase Locations\",\n    //             \"Homeless Shelters and congregate care facilities\",\n    //             \"Senior Services\",\n    //             \"Auto Repair Shops\"\n    //         ]\n    //     },\n    //     {\n    //         title: \"Education\",\n    //         options: [\n    //             \"DOE Schools (for free food from 7:30am to 1:30pm everyday)\"\n    //         ]\n    //     },\n\n    //     {\n    //         title: \"Healthcare\",\n    //         options: [\"Hospitals\", \"Pharmacies\"]\n    //     },\n\n    //     {\n    //         title: \"Misc\",\n    //         options: [\"Gas Stations\", \"Post Offices\"]\n    //     }\n    // ];\n\n    const sections = [\n        {\n            title: \"Financial Institutions\",\n            options: [\n                {name:'ATM Locations', layer: \"bank_owned_atmlocations_nyc_geocodio\"}\n            ]\n        },\n\n        {\n            title: \"Laundromats\",\n            options: [{name:\"Laundromats\", layer:'laundromats_nyc'}]\n        },\n\n        {\n            title: \"Food + Medical Supplies\",\n            options: [\n               {name:\"Bodegas / Grocers\", layer:'bodegas_grocers_nyc'},\n               {name:\"Farmer's markets\", layer:'dohmh_farmers_markets'},\n               {name:\"Liquor Stores's\", layer:'liquor_winestores_nyc_geocoded'}\n            ]\n        },\n\n        {\n            title: \"Repair Services\",\n            options: [\n                {name: \"Auto Repair Shops\", layer:\"autorepairshops_nyc_geocoded\"}\n            ]\n        },\n\n        {\n            title: \"Social Services\",\n            options: [\n                {name:\"Homeless Shelters and congregate care facilities\", layer:'homelessshelters_nyc'},\n                {name:\"Senior Services\", layer: 'seniorservices_nyc_geocoded'}\n            ]\n        },\n        {\n            title: \"Education\",\n            options: [\n                {name:\"DOE Schools (for free food from 7:30am to 1:30pm everyday)\", layer:'doe_schools_nyc'}\n            ]\n        },\n\n        {\n            title: \"Healthcare\",\n            options: [\n                {name:\"Hospitals\", layer:'hospitalsandhealthclinics_nyc' }\n            ]\n        },\n\n        {\n            title: \"Misc\",\n            options: [{\n                name: \"Gas Stations\",\n                layer:'nyc_gas_station_locations_geoclient_enriched'\n            },\n                {name:\"Post Offices\", layer:'post_offices'}\n            ]\n        }\n    ];\n    return (\n        <div className=\"facilities-selector\">\n            {sections.map(section => (\n                <OutreachAssetsSection\n                    key={section.title}\n                    title={section.title}\n                    options={section.options}\n                    selected={selected}\n                    onSelect={option => onSelected(option)}\n                />\n            ))}\n        </div>\n    );\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(-29.5,-23.71)\",\n  fill: \"#484949\",\n  \"data-name\": \"Layer 1\",\n  id: \"Layer_1\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  \"data-name\": \"Ellipse 69\",\n  id: \"Ellipse_69\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"path467\",\n  d: \"m 66,23.71 a 36.5,36.5 0 0 1 36.5,36.5 c 0,20.16 -36.5,62.08 -36.5,62.08 0,0 -36.5,-41.92 -36.5,-62.08 A 36.5,36.5 0 0 1 66,23.71 Z\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"g472\",\n  transform: \"matrix(0.2,0,0,0.2,10.5,10.29)\",\n  fill: \"#ffffff\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m 53.33,76.49 v 127.64 c 0,5.56 4.52,12.34 10.44,12.34 h 125.65 a 13.29,13.29 0 0 0 11.44,-12.34 V 76.49 Z m 73.61,101.3 A 38.86,38.86 0 1 1 167.1,139 39.49,39.49 0 0 1 127,177.79 Z M 189.42,38.67 H 63.77 a 9.76,9.76 0 0 0 -10.44,9 v 0 21.23 H 200.86 V 48.07 a 10.71,10.71 0 0 0 -11.44,-9.4 z M 102.54,61.26 H 60.88 V 46.12 h 41.66 z m 72.29,-1 A 8.44,8.44 0 0 1 166.25,52 v 0 a 8.58,8.58 0 1 1 8.85,8.31 h -0.31 z\",\n  \"data-name\": \"Icon map-laundry-2\",\n  id: \"Icon_map-laundry-2\"\n}));\n\nvar SvgLaundry484949 = function SvgLaundry484949(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 -16 73 115\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLaundry484949, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/laundry_484949.cf5e0e7e.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(-27.87,-5.8170448)\",\n  \"data-name\": \"Layer 1\",\n  id: \"Layer_1\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m 83.82,69 -9.58,-9.57 a 6.07,6.07 0 0 0 -7,-1.14 l -8.72,-8.71 v -5.05 l -10.44,-7.85 -5.24,5.23 7.85,10.47 h 5.08 l 8.72,8.71 a 6.09,6.09 0 0 0 1.13,7 l 9.58,9.57 a 3,3 0 0 0 4.3,0 v 0 l 4.31,-4.31 A 3.07,3.07 0 0 0 83.82,69 Z M 70,55.08 a 8.58,8.58 0 0 1 6.12,2.53 l 1.58,1.59 a 11.49,11.49 0 0 0 3.58,-2.42 11.72,11.72 0 0 0 3.1,-11.17 1,1 0 0 0 -1.19,-0.71 0.94,0.94 0 0 0 -0.45,0.26 l -6.08,6.08 -5.56,-0.92 -0.92,-5.56 6.08,-6.08 a 1,1 0 0 0 0,-1.39 0.88,0.88 0 0 0 -0.46,-0.26 11.77,11.77 0 0 0 -11.17,3.1 11.59,11.59 0 0 0 -3.37,8.47 L 68,55.31 a 9.13,9.13 0 0 1 2,-0.23 z m -8.5,6.7 -4.64,-4.64 -12.49,12.48 a 5.2325902,5.2325902 0 0 0 7.4,7.4 L 61.88,66.91 A 8.74,8.74 0 0 1 61.47,61.78 Z M 48.08,75.27 a 2,2 0 1 1 2,-2 v 0 a 2,2 0 0 1 -2,2 z\",\n  className: \"cls-1\",\n  fill: \"#ffffff\",\n  \"data-name\": \"Icon awesome-tools\",\n  id: \"Icon_awesome-tools\"\n}), /*#__PURE__*/React.createElement(\"g\", {\n  \"data-name\": \"Ellipse 69\",\n  id: \"Ellipse_69\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"path602\",\n  d: \"m 64.37,23 a 36.5,36.5 0 0 1 36.5,36.5 c 0,20.16 -36.5,62.07 -36.5,62.07 0,0 -36.5,-41.91 -36.5,-62.07 A 36.5,36.5 0 0 1 64.37,23 Z\",\n  fill: \"#a44098\",\n  className: \"cls-2\"\n})), /*#__PURE__*/React.createElement(\"g\", {\n  \"data-name\": \"Group 174\",\n  id: \"Group_174\"\n}, /*#__PURE__*/React.createElement(\"ellipse\", {\n  ry: 12.02,\n  rx: 8.4899998,\n  cy: 28.950001,\n  cx: 99.25,\n  strokeWidth: \"2.5px\",\n  strokeMiterlimit: 10,\n  stroke: \"#ffffff\",\n  className: \"cls-3\",\n  \"data-name\": \"Ellipse 27\",\n  id: \"Ellipse_27\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M 117.22,36.2 A 3.2,3.2 0 0 1 114.45,41 H 82.64 a 3.18,3.18 0 0 1 -3.19,-3.18 3.15,3.15 0 0 1 0.42,-1.59 L 95.78,8.61 a 3.2,3.2 0 0 1 5.52,0 z\",\n  fill: \"#e2c951\",\n  strokeWidth: \"2.5px\",\n  strokeMiterlimit: 10,\n  stroke: \"#ffffff\",\n  className: \"cls-4\",\n  \"data-name\": \"Icon awesome-exclamation-triangle\",\n  id: \"Icon_awesome-exclamation-triangle\"\n})), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"path608\",\n  d: \"m 98.54,30.93 a 3,3 0 1 0 3,3 3,3 0 0 0 -3,-3 z\",\n  fill: \"#ffffff\",\n  className: \"cls-1\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"path610\",\n  d: \"m 95.65,20 0.49,9 a 0.79,0.79 0 0 0 0.8,0.75 h 3.22 A 0.79,0.79 0 0 0 101,29 l 0.49,-9 a 0.79,0.79 0 0 0 -0.75,-0.84 h -4.3 a 0.79,0.79 0 0 0 -0.79,0.8 v 0 z\",\n  fill: \"#ffffff\",\n  className: \"cls-1\"\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"g614\",\n  transform: \"matrix(0.2,0,0,0.2,12.13,28.182955)\",\n  fill: \"#ffffff\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m 53.33,76.49 v 127.64 c 0,5.56 4.52,12.34 10.44,12.34 h 125.65 a 13.29,13.29 0 0 0 11.44,-12.34 V 76.49 Z m 73.61,101.3 A 38.86,38.86 0 1 1 167.1,139 39.49,39.49 0 0 1 127,177.79 Z M 189.42,38.67 H 63.77 a 9.76,9.76 0 0 0 -10.44,9 v 0 21.23 H 200.86 V 48.07 a 10.71,10.71 0 0 0 -11.44,-9.4 z M 102.54,61.26 H 60.88 V 46.12 h 41.66 z m 72.29,-1 A 8.44,8.44 0 0 1 166.25,52 v 0 a 8.58,8.58 0 1 1 8.85,8.31 h -0.31 z\",\n  \"data-name\": \"Icon map-laundry-2\",\n  id: \"Icon_map-laundry-2\"\n}));\n\nvar SvgLaundryA44098Alert = function SvgLaundryA44098Alert(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 91.014977 115.75295\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLaundryA44098Alert, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/laundry_A44098_alert.2b2a2c6b.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Layer_1\",\n  \"data-name\": \"Layer 1\",\n  transform: \"translate(-29.5,-23.71)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Icon_awesome-tools\",\n  \"data-name\": \"Icon awesome-tools\",\n  fill: \"#ffffff\",\n  className: \"cls-1\",\n  d: \"m 85.45,69.73 -9.58,-9.58 a 6.07,6.07 0 0 0 -7,-1.13 l -8.7,-8.72 v -5.08 l -10.46,-7.85 -5.24,5.23 7.85,10.47 h 5.08 l 8.72,8.72 a 6.07,6.07 0 0 0 1.13,7 l 9.58,9.58 a 3,3 0 0 0 4.3,0 v 0 L 85.45,74 a 3.07,3.07 0 0 0 0,-4.27 z m -13.85,-14 a 8.64,8.64 0 0 1 6.12,2.54 l 1.58,1.58 A 11.46,11.46 0 0 0 82.88,57.44 11.74,11.74 0 0 0 86,46.3 1,1 0 0 0 84.81,45.59 0.89,0.89 0 0 0 84.36,45.85 L 78.28,51.93 72.7,51 71.78,45.45 77.86,39.37 a 1,1 0 0 0 0,-1.4 1,1 0 0 0 -0.46,-0.26 11.8,11.8 0 0 0 -11.17,3.1 11.62,11.62 0 0 0 -3.37,8.47 L 69.58,56 A 8.58,8.58 0 0 1 71.6,55.77 Z M 63.1,62.43 58.46,57.8 46,70.31 a 5.2325902,5.2325902 0 0 0 7.4,7.4 L 63.51,67.6 A 8.73,8.73 0 0 1 63.1,62.47 Z M 49.71,76 a 2,2 0 1 1 1.95,-2 v 0 a 2,2 0 0 1 -1.95,2 z\"\n}), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Ellipse_69\",\n  \"data-name\": \"Ellipse 69\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-2\",\n  fill: \"#a44098\",\n  d: \"m 66,23.71 a 36.5,36.5 0 0 1 36.5,36.5 c 0,20.16 -36.5,62.08 -36.5,62.08 0,0 -36.5,-41.92 -36.5,-62.08 A 36.5,36.5 0 0 1 66,23.71 Z\",\n  id: \"path688\"\n})), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Ellipse_69-2\",\n  \"data-name\": \"Ellipse 69\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-3\",\n  fill: \"transparent\",\n  stroke: \"#ffffff\",\n  strokeMiterlimit: 10,\n  strokeWidth: \"2.09px\",\n  d: \"M 66,28.21 A 32,32 0 0 1 98.06,60.1 C 98.06,77.71 66,114.33 66,114.33 66,114.33 33.94,77.71 33.94,60.1 A 32,32 0 0 1 66,28.21 Z\",\n  id: \"path691\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"#ffffff\",\n  transform: \"matrix(0.2,0,0,0.2,10.5,10.29)\",\n  id: \"g696\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Icon_map-laundry-2\",\n  \"data-name\": \"Icon map-laundry-2\",\n  d: \"m 53.33,76.49 v 127.64 c 0,5.56 4.52,12.34 10.44,12.34 h 125.65 a 13.29,13.29 0 0 0 11.44,-12.34 V 76.49 Z m 73.61,101.3 A 38.86,38.86 0 1 1 167.1,139 39.49,39.49 0 0 1 127,177.79 Z M 189.42,38.67 H 63.77 a 9.76,9.76 0 0 0 -10.44,9 v 0 21.23 H 200.86 V 48.07 a 10.71,10.71 0 0 0 -11.44,-9.4 z M 102.54,61.26 H 60.88 V 46.12 h 41.66 z m 72.29,-1 A 8.44,8.44 0 0 1 166.25,52 v 0 a 8.58,8.58 0 1 1 8.85,8.31 h -0.31 z\"\n}));\n\nvar SvgLaundryA44098 = function SvgLaundryA44098(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 -16 73 115\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLaundryA44098, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/laundry_A44098.74872ed9.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from \"react\";\nimport CCFSearch from \"./CCFSearch\";\nimport OutreactAssetsSelector from \"./OutreachAssetSelector.js\";\nimport {ReactComponent as  Unclaimed}  from '../icons/laundry_484949.svg'\nimport {ReactComponent as Claimed}  from '../icons/laundry_A44098_alert.svg'\nimport {ReactComponent as Done}  from '../icons/laundry_A44098.svg'\n\n\nexport default function OutreactTab({ selectedCCF, onSelectedCCF, selectedOutreachTypes, onSelectOutreachTypes }) {\n    return (\n        <div className=\"outreach-tab\">\n            <h3>Outreach</h3>\n            <p className='outreach-step'><span>Step 1</span>: Select a Census Grantee</p>\n            <CCFSearch selected={selectedCCF} onSelected={onSelectedCCF} />\n            <h3>COVID-19 Community Assets</h3>\n\n\n            <p className='outreach-step'><span>Step 2</span>: Review Outreach Icons</p>\n            <div className='key'>\n                <div className='icon'>\n                    <Unclaimed style={{width:'47px', height:'63px'}}/>\n                    <p>Unclaimed Asset</p>\n                </div>\n                <div className='icon'>\n                    <Claimed  style={{width:'47px', height:'63px'}}/>\n                    <p>Claimed Asset: Outreach Pending</p>\n                </div>\n\n                <div className='icon'>\n                    <Done  style={{width:'47px', height:'63px'}}/>\n                    <p>Claimed Asset: Outreach Compleated</p>\n                </div>\n            </div>\n\n            <p className='outreach-step'><span>Step 3</span>: Select Buisness Categories</p>\n\n            <OutreactAssetsSelector\n                selected={selectedOutreachTypes}\n                onSelected={onSelectOutreachTypes}\n            />\n\n            <p className='outreach-step'>\n                <span>Step 4</span>: Review Map and Buisness Locations For Outreach\n            </p>\n\n            <p className='outreach-step'>\n                <span>Step 5</span>: Claim Buisness for Outreach\n            </p>\n        </div>\n    );\n}\n","import React, { useState } from \"react\";\nimport ContactTypeLegend from \"./ContactTypeLegend\";\nimport RangeLegend from \"./RangeLegend\";\nimport CategoryLegend from \"./CategoryLegend\";\nimport BoundarySelector from \"./BoundarySelector\";\nimport FacilitiesSelector from \"./FacilitiesSelector\";\nimport HelpTab from \"./HelpTab\";\nimport InfoTab from \"./InfoTab\";\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\nimport OutreachTab from \"./OutreachTab\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n    faInfoCircle,\n    faLayerGroup,\n    faQuestionCircle,\n    faExclamationCircle,\n    faList\n} from \"@fortawesome/free-solid-svg-icons\";\n\nimport Dropdown from \"react-dropdown\";\nimport \"react-dropdown/style.css\";\n\nexport default function Legend({\n    selectedBoundary,\n    boundaries,\n    onSelectBoundary,\n    showFacilities,\n    onShowFacilitiesChange,\n    selectedCCF, onSelectedCCF,\n    selectedOutreachTypes,\n    onSelectOutreachTypes,\n    tab,\n    onTabChanged,\n    onSelectMetric,\n    metric,\n    selectedFacilityTypes,\n    onSelectFacilityType,\n    onPrint,\n    showENRFU,\n    onToggleENRFU,\n    shareURL\n}) {\n\n\n    return (\n        <div className=\"Legend overlay\">\n            <div className=\"tabs\">\n                <div\n                    className={tab === \"layers\" ? \"selected\" : \"\"}\n                    onClick={() => onTabChanged(\"layers\")}\n                >\n                    <FontAwesomeIcon icon={faLayerGroup} />\n                </div>\n                <div\n                    className={tab === \"outreach\" ? \"selected\" : \"\"}\n                    onClick={() => onTabChanged(\"outreach\")}\n                >\n                    <FontAwesomeIcon\n                        style={{ color: \"red\" }}\n                        icon={faExclamationCircle}\n                    />\n                </div>\n                <div\n                    className={tab === \"info\" ? \"selected\" : \"\"}\n                    onClick={() => onTabChanged(\"info\")}\n                >\n                    <FontAwesomeIcon icon={faInfoCircle} />\n                </div>\n                <div\n                    className={tab === \"questions\" ? \"selected\" : \"\"}\n                    onClick={() => onTabChanged(\"questions\")}\n                >\n                    <FontAwesomeIcon icon={faQuestionCircle} />\n                </div>\n            </div>\n            <div className=\"content\">\n                {tab === \"layers\" && (\n                    <section className=\"thematic-layer\">\n                        <h3>LAYERS</h3>\n                        <h3>Neighborhood Information</h3>\n                        <Dropdown\n                            options={[\n                                {\n                                    value: \"responseRate\",\n                                    label: \"2020 Self Response Rate to date\"\n                                },\n                                {\n                                    value: \"strategy\",\n                                    label: \"2020 Census Mail Contact Stategies\"\n                                },\n                                {\n                                    value: \"returnCount\",\n                                    label: \"Hard to Count Populations(2010)\"\n                                },\n                                {\n                                    value: \"blackPop\",\n                                    label: \"Black Population (%)\"\n                                },\n                                {\n                                    value: \"latinxPop\",\n                                    label: \"Latinx Population (%)\"\n                                },\n                                {\n                                    value: \"asianPop\",\n                                    label: \"Asian Population (%)\"\n                                },\n                                {\n                                    value: \"whitePop\",\n                                    label: \"White Population (%)\"\n                                },\n                                {\n                                    value: \"otherPop\",\n                                    label: \"Other Population (%)\"\n                                },\n                                {\n                                    value: \"noInternetPC\",\n                                    label:\n                                        \"Population with No Internet Access (%)\"\n                                },\n                                {\n                                    value: \"englishProficency\",\n                                    label: \"Limited English Proficiency (%)\"\n                                },\n                                {\n                                    value: \"under5\",\n                                    label: \"Population Under 5 Years Old (%)\"\n                                }\n                            ]}\n                            onChange={a => onSelectMetric(a.value)}\n                            value={metric}\n                            placeholder=\"Select a metric\"\n                        />\n                        {metric === \"strategy\" && (\n                            <CategoryLegend\n                                categories={[\n                                    {\n                                        color: \"#C2A5CF\",\n                                        name: \"Internet First, English\",\n                                        sub:\n                                            \"Housing unit will receive letter to complete Census via online link, in English\"\n                                    },\n                                    {\n                                        color: \"#9970AB\",\n                                        name: \"Internet First, Bilingual\",\n                                        sub:\n                                            \"Housing unit will receive letter to complete Census via online link, in English and Spanish\"\n                                    },\n                                    {\n                                        color: \"#A6DBA0\",\n                                        name: \"Internet Choice, English\",\n                                        sub:\n                                            \"Housing unit will receive letter to complete Census via online link or paper survey, in English\"\n                                    },\n                                    {\n                                        color: \"#5AAE61\",\n                                        name: \"Internet Choice, Bilingual\",\n                                        sub:\n                                            \"Housing unit will receive letter to complete Census via online link or paper survey, in English and Spanish \"\n                                    }\n                                ]}\n                            />\n                        )}\n                        {metric === \"responseRate\" && (\n                            <RangeLegend\n                                name={\"Self Response Rate to date(%)\"}\n                                min={\"0%\"}\n                                max={\"70%\"}\n                                colStart={\"#FFFFFF\"}\n                                colEnd={\"#faaf12\"}\n                            />\n                        )}\n                        {metric === \"returnCount\" && (\n                            <CategoryLegend\n                                categories={[\n                                    { color: \"#b95356\", name: \"0 - 60%\" },\n                                    { color: \"#ee5658\", name: \"60 - 65%\" },\n                                    { color: \"#ecbaa8\", name: \"65 - 70%\" },\n                                    { color: \"#f9bd53\", name: \"70 - 73%\" },\n                                    {\n                                        color: \"rgba(0,0,0,0)\",\n                                        name: \"Not hard to count\"\n                                    }\n                                ]}\n                            />\n                        )}\n                        {metric === \"asianPop\" && (\n                            <RangeLegend\n                                name={\"Asian Population (%)\"}\n                                min={\"0%\"}\n                                max={\"100%\"}\n                                colStart={\"#FFFFFF\"}\n                                colEnd={\"#8f1158\"}\n                            />\n                        )}\n                        {metric === \"blackPop\" && (\n                            <RangeLegend\n                                name={\"Black Population (%)\"}\n                                min={\"0%\"}\n                                max={\"100%\"}\n                                colStart={\"#FFFFFF\"}\n                                colEnd={\"#b93f22\"}\n                            />\n                        )}\n                        {metric === \"latinxPop\" && (\n                            <RangeLegend\n                                name={\"Latinx Population (%)\"}\n                                min={\"0%\"}\n                                max={\"100%\"}\n                                colStart={\"#FFFFFF\"}\n                                colEnd={\"#cf0621\"}\n                            />\n                        )}\n                        {metric === \"whitePop\" && (\n                            <RangeLegend\n                                name={\"White Population (%)\"}\n                                min={\"0%\"}\n                                max={\"100%\"}\n                                colStart={\"#FFFFFF\"}\n                                colEnd={\"#faaf12\"}\n                            />\n                        )}\n                        {metric === \"otherPop\" && (\n                            <RangeLegend\n                                name={\"Other Population (%)\"}\n                                min={\"0%\"}\n                                max={\"20%\"}\n                                colStart={\"#FFFFFF\"}\n                                colEnd={\"#000000\"}\n                            />\n                        )}\n                        {metric === \"noInternetPC\" && (\n                            <RangeLegend\n                                name={\"% No Internet\"}\n                                min={\"0%\"}\n                                max={\"100%\"}\n                                colStart={\"#FFFFFF\"}\n                                colEnd={\"#faaf12\"}\n                            />\n                        )}\n                        {metric === \"englishProficency\" && (\n                            <RangeLegend\n                                name={\"% Proficent in English\"}\n                                min={\"0%\"}\n                                max={\"100%\"}\n                                colStart={\"#FFFFFF\"}\n                                colEnd={\"#faaf12\"}\n                            />\n                        )}\n                        {metric === \"under5\" && (\n                            <RangeLegend\n                                name={\"% under 5 years old\"}\n                                min={\"0%\"}\n                                max={\"10%\"}\n                                colStart={\"#FFFFFF\"}\n                                colEnd={\"#faaf12\"}\n                            />\n                        )}\n                        <BoundarySelector\n                            selectedBoundary={selectedBoundary}\n                            onSelect={onSelectBoundary}\n                            boundaries={boundaries}\n                        />\n                        <FacilitiesSelector\n                            selected={selectedFacilityTypes}\n                            onSelected={onSelectFacilityType}\n                        />\n                      \n                        <div className=\"share\">\n                            <h3>Share</h3>\n                            <div className=\"share-buttons\">\n                                <CopyToClipboard text={window.location}>\n                                    <button className=\"share-button\">\n                                        Copy Map Link\n                                    </button>\n                                </CopyToClipboard>\n\n                                <CopyToClipboard text={shareURL}>\n                                    <button className=\"share-button\">\n                                        Copy Current Map View\n                                    </button>\n                                </CopyToClipboard>\n                            </div>\n\n                            <div\n                                style={{\n                                    marginTop: \"20px\",\n                                    display: \"flex\",\n                                    justifyContent: \"space-around\"\n                                }}\n                            >\n                                <button\n                                    onClick={onPrint}\n                                    className=\"share-button\"\n                                    style={{ width: \"200px\" }}\n                                >\n                                    Print Map\n                                </button>\n                            </div>\n                        </div>\n                    </section>\n                )}\n                {tab === \"outreach\" && <OutreachTab \n                    selectedOutreachTypes={selectedOutreachTypes} \n                    onSelectOutreachTypes={onSelectOutreachTypes}\n                    selectedCCF={selectedCCF}\n                    onSelectedCCF={onSelectedCCF}\n                />}\n\n                {tab === \"info\" && <InfoTab />}\n                {tab === \"questions\" && <HelpTab />}\n            </div>\n        </div>\n    );\n}\n","export const colors = [\n    \"76C04B\",\n    \"8D1840\",\n    \"A44098\",\n    \"767FBE\",\n    \"41674F\",\n    \"FBA919\",\n    \"34499E\",\n    \"9D9A51\",\n    \"ED2024\",\n    \"FCC28E\",\n    \"E2E419\",\n    \"5F3092\",\n    \"865F94\",\n    \"5B8AAE\",\n    \"DD4297\",\n    \"B86328\"\n];\n","import React from \"react\";\nimport { colors } from \"../colors\";\nimport { PieChart, Pie, Sector, Cell } from \"recharts\";\n\nconst renderCustomizedLabel = ({\n    cx,\n    cy,\n    midAngle,\n    innerRadius,\n    outerRadius,\n    percent,\n    index\n}) => {\n    const radius = innerRadius + (outerRadius - innerRadius) * 0.5;\n    const x = cx + radius * Math.cos(-midAngle * RADIAN);\n    const y = cy + radius * Math.sin(-midAngle * RADIAN);\n    if (percent < 4 / 100) {\n        return \"\";\n    }\n    return (\n        <text\n            x={x}\n            y={y}\n            fill=\"white\"\n            textAnchor={x > cx ? \"start\" : \"end\"}\n            dominantBaseline=\"central\"\n        >\n            {`${(percent * 100).toFixed(0)}%`}\n        </text>\n    );\n};\n\nconst RADIAN = Math.PI / 180;\nexport default function PieCard({ data, title }) {\n    const colData = data.map((d, i) => ({ ...d, color: colors[i % 5] }));\n    const width = 110;\n    const height = 110;\n    const buffer = 5;\n    return (\n        <div className=\"pie-card\">\n            <h2>{title}</h2>\n            <div className=\"pie-card-content\">\n                <PieChart\n                    width={width + buffer}\n                    height={height + buffer}\n                    data={colData}\n                >\n                    <Pie\n                        data={colData}\n                        cx={width / 2}\n                        cy={height / 2}\n                        labelLine={false}\n                        label={renderCustomizedLabel}\n                        outerRadius={width / 2}\n                        isAnimationActive={false}\n                        fill=\"#8884d8\"\n                    >\n                        {colData.map((entry, index) => (\n                            <Cell fill={entry.color} />\n                        ))}\n                    </Pie>\n                </PieChart>\n                <ul className=\"labels\">\n                    {colData.map((entry, index) => (\n                        <li className=\"label\">\n                            <span\n                                className=\"bar\"\n                                style={{ backgroundColor: colors[index] }}\n                            />\n                            <span className=\"label-text\">{entry.name}</span>\n                        </li>\n                    ))}\n                </ul>\n            </div>\n        </div>\n    );\n}\n","import React from \"react\";\n\nexport default function FactCard({ title, facts }) {\n    return (\n        <div className=\"fact\">\n            {facts.map(fact => (\n                <p className=\"fact-name\">\n                    <span className=\"fact-value\">\n                        {fact.value.toLocaleString()}\n                    </span>{\" \"}\n                    <span className=\"fact-text\">{fact.name}</span>\n                </p>\n            ))}\n        </div>\n    );\n}\n","import React from \"react\";\n\nexport default function AssetCategoryCard({ assets, title }) {\n    const icons = {\n        \"Hospitals and Rehab Centers\": \"Dot_Hospitals.png\",\n        \"Faith-Based Organizations\": \"Dot_FBO.png\",\n        \"City Wide Community Schools\": \"Dot_CommunitySchools.png\",\n        \"LGBTQ Centers and Services\": \"Dot_LGBTQ.png\",\n        \"Food Kitchens and Pantries\": \"Dot_FoodKitchens.png\",\n        \"Senior Centers\": \"Dot_SeniorCenters.png\",\n        \"Universal Pre-K\": \"Dot_UniPreK.png\",\n        \"K-12 (NYC Public Schools)\": \"Dot_K12.png\",\n        \"Community Schools\": \"Dot_CommunityCenters.png\",\n        \"Mental Health Services\": \"Dot_MentalHealth.png\",\n        \"Community-Based Organizations\": \"Dot_CBO.png\",\n        \"Public Libraries\": \"Dot_Libraries.png\",\n        \"Head Start and Early Head Start\": \"Dot_HeadStart.png\"\n    };\n\n    const width = Math.max(300, 300 * Math.ceil(assets.length / 3));\n    return (\n        <div className=\"asset-card\" style={{ width: width + \"px\" }}>\n            <h2>\n                <img src={`${process.env.PUBLIC_URL}/imgs/${icons[title]}`} />\n                {title}\n            </h2>\n            <ul style={{ width: width + \"px\" }}>\n                {assets.length == 0 && (\n                    <li key={`${title}-empty `}>\n                        <h3>None identified</h3>\n                    </li>\n                )}\n                {assets.map(asset => (\n                    <li key={asset.name} className=\"asset\">\n                        <h3>{asset.name}</h3>\n                        <p>\n                            {[\n                                asset.address,\n                                asset.boro,\n                                asset.city,\n                                asset.zipcode\n                            ].join(\",\")}\n                        </p>\n                    </li>\n                ))}\n            </ul>\n        </div>\n    );\n}\n","import React from \"react\";\n\nexport default function DetailsSelector({ selected, onSelect }) {\n    const isSelected = name => (name === selected ? \"selected\" : \"\");\n    return (\n        <div className=\"details-selector\">\n            <ul>\n                <li\n                    onClick={() => onSelect(\"census2020\")}\n                    className={isSelected(\"census2020\")}\n                >\n                    Census 2020 Live Count\n                </li>\n                <li\n                    onClick={() => onSelect(\"demographics\")}\n                    className={isSelected(\"demographics\")}\n                >\n                    Demographics\n                </li>\n                <li\n                    onClick={() => onSelect(\"languages\")}\n                    className={isSelected(\"languages\")}\n                >\n                    Languages\n                </li>\n                <li\n                    onClick={() => onSelect(\"housing\")}\n                    className={isSelected(\"housing\")}\n                >\n                    Housing and Economics\n                </li>\n                <li\n                    onClick={() => onSelect(\"assets\")}\n                    className={isSelected(\"assets\")}\n                >\n                    Assets\n                </li>\n            </ul>\n        </div>\n    );\n}\n","import React from \"react\";\n\nexport default function ProgressBar({ pc }) {\n    return (\n        <div className=\"progressBar\">\n            <div className=\"outer\">\n                <div className=\"inner\" style={{ width: `${pc}%` }} />\n            </div>\n        </div>\n    );\n}\n","import React from \"react\";\n\nexport default function LanguageCard({ data }) {\n    const sorted_data = data\n        .sort((a, b) => (a.value < b.value ? 1 : -1))\n        .slice(0, 5);\n\n    /* const renames = {\n        speak_only_english: \"English\",\n        spanish: \"Spanish\",\n        \"french,_haitian,_or_cajun\": \"French Haitian or Cajun\",\n        german_or_other_west_germanic_languages: \"German or Germanic Language\",\n        \"russian,_polish,_or_other_slavic_languages\":\n            \"Russian, Polish or other Slavic\",\n        \"other_indo-european_languages\": \"Other Indo-European\",\n        korean: \"Korean\",\n        \"chinese_(incl._mandarin,_cantonese)\": \"Chinese (Madarin / Cantonese)\",\n        vietnamese: \"Vietnamese\",\n        \"tagalog_(incl._filipino)\": \"Tagalog (including Filipino)\",\n        other_asian_and_pacific_island_languages:\n            \"Other Asian and Pacific Island\"\n};*/\n    return (\n        <div className=\"language-card card\">\n            <h2>Top Household Languages</h2>\n\n            <ul>\n                {sorted_data.map(({ title, value }) => (\n                    <li className=\"language-entry\">\n                        <span>{title}</span>\n                        <span>{Math.floor(value)}%</span>\n                    </li>\n                ))}\n            </ul>\n        </div>\n    );\n}\n","import React, { useState, useCallback } from \"react\";\nimport { RadialChart } from \"react-vis\";\nimport FacilityCard from \"./FacilityCard\";\nimport SimpleBarChart from \"./SimpleBarChart\";\nimport PieCard from \"./PieCard\";\nimport FactCard from \"./FactCard\";\nimport AssetCategoryCard from \"./AssetCategoryCard\";\nimport DetailsSelector from \"./DetailsSelector\";\nimport { useFilteredFacilities } from \"../hooks/useFacilities\";\nimport { saveAs } from \"file-saver\";\nimport ProgressBar from \"./ProgressBar\";\nimport LanguageCard from \"./LanguageCard\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faDownload } from \"@fortawesome/free-solid-svg-icons\";\n\nexport default function Details({\n    feature,\n    onSelectFacility,\n    facilities,\n    layer,\n    tract,\n    facilityTypes\n}) {\n    const [showFacilities, setShowFacilities] = useState(false);\n    const [showBoundaryData, setShowBoundaryData] = useState(true);\n\n    const [selectedDetails, setSelectedDetails] = useState(\"census2020\");\n\n    const filteredFacilities = useFilteredFacilities(\n        facilities,\n        showBoundaryData\n            ? feature\n                ? feature.properties.geoid\n                : null\n            : tract\n            ? tract.properties.GEOID\n            : null,\n        showBoundaryData ? layer : \"tracts\",\n        facilityTypes\n    );\n\n    const makeRenting = feature => {\n        const properties = feature.properties;\n        return [\n            { name: \"Renters\", value: properties.own_vs_rent_rent },\n            { name: \"Owners\", value: properties.own_vs_rent_owner }\n        ];\n    };\n\n    const featureNames = {\n        tracts: \"Census Tract\",\n        cd: \"Community District\",\n        sd: \"School District\",\n        cc: \"City Council District\",\n        nat: \"Neighborhood Tablulation Area\",\n        NOCCs: \"NOCC\",\n        senate_districts: \"Senate District\",\n        police_precincts: \"Police Precinct\",\n        congress_districts: \"Congressional District\",\n        state_assembly_districts: \"State Assembly Districts\"\n    };\n\n    const featureName = featureNames[layer];\n    const displayFeature =\n        showBoundaryData && layer !== \"tracts\"\n            ? feature\n            : tract && {\n                  ...tract,\n                  properties: {\n                      ...tract.properties,\n                      geoid: tract.properties.GEOID\n                  }\n              };\n    console.log(\"DISPLAY FEATURE IS \", displayFeature);\n    const downloadAssets = useCallback(() => {\n        let csv = [\"name\", \"address\", \"type\"].join(\",\") + \"\\n\";\n        csv += filteredFacilities\n            .map(f => [f.name, f.address, f.asset_type].join(\",\"))\n            .join(\"\\n\");\n        var blob = new Blob([csv], { type: \"text/plain;charset=utf-8\" });\n        const boundaryType = showBoundaryData ? layer : \"tract\";\n        const boundaryId = displayFeature.id;\n        console.log(boundaryType, boundaryId, facilities, displayFeature);\n\n        saveAs(blob, `assets_for_${boundaryType}-${boundaryId}.csv`);\n    }, [filteredFacilities, displayFeature]);\n\n    const makeAgeData = feature => {\n        const properties = feature.properties;\n        const data = [\n            {\n                name: \"5 years or younger\",\n                value: properties.age_less_5\n            },\n            {\n                name: \"6 yrs - 15 yrs\",\n                value: properties.age_6_15\n            },\n            {\n                name: \"16 yrs - 64 yrs\",\n                value: properties.age_16_64\n            },\n            {\n                name: \"65 yrs or older\",\n                value: properties.age_64_over\n            }\n        ];\n        return data;\n    };\n    const makeForeignData = feature => {\n        const properties = feature.properties;\n        return [\n            { name: \"US Born\", value: properties.foreign_born_native },\n            { name: \"Foreign Born\", value: properties.foreign_born_foreign }\n        ];\n    };\n    const makeEnglishData = feature => {\n        const properties = feature.properties;\n\n        return [\n            //  { name: \"English\", value: properties.english_english },\n            { name: \"Asian Languages\", value: properties.english_asian },\n            { name: \"Spanish\", value: properties.english_spanish },\n            { name: \"European Languages\", value: properties.english_european },\n            { name: \"Other\", value: properties.english_other }\n        ];\n    };\n    const makeInternetData = feature => {\n        const properties = feature.properties;\n        const data = [\n            { name: \"No Internet\", value: properties.internet_no_access },\n            {\n                name: \"Full Subscription\",\n                value: properties.internet_subscription\n            },\n            {\n                name: \"Limited Subscription\",\n                value: properties.internet_no_subscription\n            }\n        ];\n        console.log(properties);\n        return data;\n    };\n    const contactStrategy = feature => {\n        switch (feature.strategy_code) {\n            case 0:\n                return \"Internet First, English\";\n            case 1:\n                return \"Internet First, Bilingual\";\n            case 2:\n                return \"Internet Choice, English\";\n            case 3:\n                return \"Internet Choice, Bilingual\";\n        }\n    };\n    const makeDemographicData = feature => {\n        return [\n            {\n                name: \"white\",\n                value:\n                    feature.properties.race_white /\n                    feature.properties.race_total\n            },\n            {\n                name: \"black\",\n                value:\n                    feature.properties.race_black /\n                    feature.properties.race_total\n            },\n            {\n                name: \"asian\",\n                value:\n                    feature.properties.race_asian /\n                    feature.properties.race_total\n            },\n            {\n                name: \"latinx\",\n                value:\n                    feature.properties.race_hispanic /\n                    feature.properties.race_total\n            },\n            {\n                name: \"other\",\n                value:\n                    feature.properties.race_other /\n                    feature.properties.race_total\n            }\n        ];\n    };\n    const makeLanguage = feature => {\n        const cols = [\n            \"Speak only English\",\n            \"Spanish\",\n            \"French (incl. Cajun)\",\n            \"Haitian\",\n            \"Italian\",\n            \"Portuguese\",\n            \"German\",\n            \"Yiddish, Pennsylvania Dutch or other West Germanic languages\",\n            \"Greek\",\n            \"Russian\",\n            \"Polish\",\n            \"Serbo-Croatian\",\n            \"Ukrainian or other Slavic languages\",\n            \"Armenian\",\n            \"Persian (incl. Farsi, Dari)\",\n            \"Gujarati\",\n            \"Hindi\",\n            \"Urdu\",\n            \"Punjabi\",\n            \"Bengali\",\n            \"Nepali, Marathi, or other Indic languages\",\n            \"Other Indo-European languages\",\n            \"Telugu\",\n            \"Tamil\",\n            \"Malayalam, Kannada, or other Dravidian languages\",\n            \"Chinese (incl. Mandarin, Cantonese)\",\n            \"Japanese\",\n            \"Korean\",\n            \"Hmong\",\n            \"Vietnamese\",\n            \"Khmer\",\n            \"Thai, Lao, or other Tai-Kadai languages\",\n            \"Other languages of Asia\",\n            \"Tagalog (incl. Filipino)\",\n            \"Ilocano, Samoan, Hawaiian, or other Austronesian languages\",\n            \"Arabic\",\n            \"Hebrew\",\n            \"Amharic, Somali, or other Afro-Asiatic languages\",\n            \"Yoruba, Twi, Igbo, or other languages of Western Africa\",\n            \"Swahili or other languages of Central, Eastern, and Southern Africa\",\n            \"Navajo\",\n            \"Other Native languages of North America\",\n            \"Other and unspecified languages\"\n\n            /*            \"speak_only_english\",\n            \"spanish\",\n            \"french,_haitian,_or_cajun\",\n            \"german_or_other_west_germanic_languages\",\n            \"russian,_polish,_or_other_slavic_languages\",\n            \"other_indo-european_languages\",\n            \"korean\",\n            \"chinese_(incl._mandarin,_cantonese)\",\n            \"vietnamese\",\n            \"tagalog_(incl._filipino)\",\n            \"other_asian_and_pacific_island_languages\"\n\n*/\n        ];\n        const data = cols.map(col => ({\n            value:\n                (feature.properties[col] * 100.0) /\n                feature.properties[\"language_total_pop\"],\n            title: col\n        }));\n        return data;\n    };\n\n    const makeLEP = feature => {\n        const cols = [\n            \"LEPHHs\",\n            \"LEPspanHHs\",\n            \"LEPindoeurHHs\",\n            \"LEPapacHHs\",\n            \"LEPotherHHs\"\n        ];\n        const data = cols.map(col => ({\n            value: feature.properties[col],\n            title: col\n        }));\n        return data;\n    };\n\n    return displayFeature ? (\n        <React.Fragment>\n            <div className=\"overview\">\n                <div className=\"boundary-type-selector\">\n                    {feature && (\n                        <div\n                            className={`boundary-type-selector-type ${\n                                showBoundaryData ? \"\" : \"selected\"\n                            }`}\n                            onClick={() => setShowBoundaryData(true)}\n                        >\n                            <h2 className={showBoundaryData ? \"\" : \"selected\"}>\n                                {featureName}:{\" \"}\n                                {featureName === \"NOCC\"\n                                    ? feature.properties.nocc_id\n                                    : feature.properties.geoid}{\" \"}\n                                {featureName === \"NOCC\"\n                                    ? feature.properties.neighborhood\n                                    : \"\"}\n                            </h2>\n                        </div>\n                    )}\n                    {tract && (\n                        <div\n                            className={`boundary-type-selector-type ${\n                                showBoundaryData ? \"selected\" : \"\"\n                            }`}\n                            onClick={() => setShowBoundaryData(false)}\n                        >\n                            <h2>Census Tract: {tract.properties.GEOID}</h2>\n                        </div>\n                    )}\n                </div>\n                <div className=\"top-stats\">\n                    {displayFeature && (\n                        <p>\n                            Population:{\" \"}\n                            <span style={{ color: \"red\" }}>\n                                {Math.floor(\n                                    displayFeature.properties.total_population\n                                ).toLocaleString()}\n                            </span>\n                        </p>\n                    )}\n                    {showBoundaryData && feature ? (\n                        <>\n                            <p>\n                                Population in HTC areas:{\" \"}\n                                <span style={{ color: \"red\" }}>\n                                    {Math.floor(\n                                        (feature.properties.htc_pop * 100.0) /\n                                            feature.properties.total_population\n                                    ).toLocaleString()}\n                                    %\n                                </span>\n                            </p>\n                        </>\n                    ) : (\n                        tract && (\n                            <>\n                                <p>\n                                    Mail return rate 2010:{\" \"}\n                                    <span style={{ color: \"red\" }}>\n                                        {tract.properties.MRR2010}%\n                                    </span>\n                                </p>\n                                <p>\n                                    2020 Census Mail Contact Strategy:{\" \"}\n                                    <span style={{ color: \"red\" }}>\n                                        {contactStrategy(tract.properties)}\n                                    </span>\n                                </p>\n                            </>\n                        )\n                    )}\n                    {selectedDetails === \"assets\" && (\n                        <p onClick={downloadAssets} className=\"download-assets\">\n                            <FontAwesomeIcon icon={faDownload} />\n                            Download Community Assets\n                        </p>\n                    )}\n                </div>\n            </div>\n            <div className=\"selector-cards\">\n                <DetailsSelector\n                    selected={selectedDetails}\n                    onSelect={detail => setSelectedDetails(detail)}\n                />\n                {displayFeature && (\n                    <div className=\"cards\">\n                        {selectedDetails === \"census2020\" && (\n                            <>\n                                <div className=\"card selfresponse\">\n                                    <h3>Self Response Rate</h3>\n                                    <p className=\"bigPC\">\n                                        {Math.floor(\n                                            displayFeature.properties.CRRALL\n                                        )}{\" \"}\n                                        %\n                                    </p>\n                                    <p>Last updated 8th April</p>\n                                </div>\n                                <div className=\"card comparison\">\n                                    <p>\n                                        <span\n                                            style={{\n                                                color: \"red\",\n                                                fontWeight: \"bold\"\n                                            }}\n                                        >\n                                            {Math.floor(\n                                                displayFeature.properties.CRRALL\n                                            )}\n                                            %{\" \"}\n                                        </span>{\" \"}\n                                        <span style={{ fontWeight: \"bold\" }}>\n                                            Self response rate as of 15th June\n                                            2020\n                                        </span>\n                                    </p>\n                                    <ProgressBar\n                                        pc={displayFeature.properties.CRRALL}\n                                    />\n                                    <p>\n                                        <span\n                                            style={{\n                                                color: \"red\",\n                                                fontWeight: \"bold\"\n                                            }}\n                                        >\n                                            {Math.floor(\n                                                displayFeature.properties\n                                                    .HISTORIC_RESP_RATE\n                                            )}\n                                            %{\" \"}\n                                        </span>{\" \"}\n                                        <span style={{ fontWeight: \"bold\" }}>\n                                            Self response rate as of 29th April (this is the last date we have 2010 data for) 2010\n                                        </span>\n                                        <br />\n                                        46th day of counting\n                                    </p>\n                                    <ProgressBar\n                                        pc={\n                                            displayFeature.properties\n                                                .HISTORIC_RESP_RATE\n                                        }\n                                    />\n                                    {!showBoundaryData && (\n                                        <>\n                                            <p>\n                                                <span>\n                                                    {Math.floor(\n                                                        displayFeature\n                                                            .properties.MRR2010\n                                                    )}\n                                                    %\n                                                </span>{\" \"}\n                                                Final self response rate in 2010\n                                                census\n                                            </p>\n                                            <ProgressBar\n                                                pc={\n                                                    displayFeature.properties\n                                                        .MRR2010\n                                                }\n                                            />\n                                        </>\n                                    )}\n                                </div>\n                            </>\n                        )}\n                        {selectedDetails === \"languages\" && (\n                            <>\n                                <div className=\"card english_proficency\">\n                                    <PieCard\n                                        title=\"Limited English Proficency\"\n                                        data={makeEnglishData(displayFeature)}\n                                        norm={true}\n                                    />\n                                    <FactCard\n                                        title={\"\"}\n                                        facts={[\n                                            {\n                                                name:\n                                                    \"% of housholds are bilingual\",\n                                                value: Math.floor(\n                                                    (displayFeature.properties\n                                                        .bilingual *\n                                                        100.0) /\n                                                        displayFeature\n                                                            .properties\n                                                            .english_total_households\n                                                )\n                                            },\n                                            {\n                                                name:\n                                                    \"% of housholds have limited english proficency\",\n                                                value: Math.floor(\n                                                    ((displayFeature.properties\n                                                        .english_total_households -\n                                                        displayFeature\n                                                            .properties\n                                                            .english_english) *\n                                                        100.0) /\n                                                        displayFeature\n                                                            .properties\n                                                            .english_total_households\n                                                )\n                                            }\n                                        ]}\n                                    />\n                                </div>\n\n                                <LanguageCard\n                                    data={makeLanguage(displayFeature)}\n                                />\n                            </>\n                        )}\n                        {selectedDetails === \"demographics\" && (\n                            <>\n                                <div className=\"card demographics\">\n                                    <PieCard\n                                        title=\"Race\"\n                                        data={makeDemographicData(\n                                            displayFeature\n                                        )}\n                                    />\n                                    <FactCard\n                                        title={\"\"}\n                                        facts={[\n                                            {\n                                                name: \"identify as Latinx\",\n                                                value:\n                                                    Math.floor(\n                                                        (displayFeature\n                                                            .properties\n                                                            .race_hispanic *\n                                                            100.0) /\n                                                            displayFeature\n                                                                .properties\n                                                                .race_total\n                                                    ).toLocaleString() + \"%\"\n                                            },\n                                            {\n                                                name: \"identify as Black\",\n                                                value:\n                                                    Math.floor(\n                                                        (displayFeature\n                                                            .properties\n                                                            .race_black *\n                                                            100.0) /\n                                                            displayFeature\n                                                                .properties\n                                                                .race_total\n                                                    ).toLocaleString() + \"%\"\n                                            }\n                                        ]}\n                                    />\n                                </div>\n                                <div className=\"card foreign\">\n                                    <PieCard\n                                        title=\"Foreign Born\"\n                                        data={makeForeignData(displayFeature)}\n                                    />\n                                </div>\n                                <div className=\"card age\">\n                                    <PieCard\n                                        title=\"Age\"\n                                        data={makeAgeData(displayFeature)}\n                                        norm={true}\n                                    />\n                                    <FactCard\n                                        title={\"\"}\n                                        facts={[\n                                            {\n                                                name:\n                                                    \"people under 5 years old\",\n                                                value: Math.floor(\n                                                    displayFeature.properties\n                                                        .age_less_5\n                                                ).toLocaleString()\n                                            }\n                                        ]}\n                                    />\n                                </div>\n                            </>\n                        )}\n                        {selectedDetails === \"housing\" && (\n                            <>\n                                <div className=\"card internet\">\n                                    <PieCard\n                                        title=\"Internet Access\"\n                                        data={makeInternetData(displayFeature)}\n                                        norm={true}\n                                        style={{ width: \"500px\" }}\n                                    />\n                                    <FactCard\n                                        facts={[\n                                            {\n                                                name:\n                                                    \"people have no internet access\",\n                                                value: Math.floor(\n                                                    displayFeature.properties\n                                                        .internet_no_access\n                                                ).toLocaleString()\n                                            }\n                                        ]}\n                                    />\n                                </div>\n                                <div className=\"card housing\">\n                                    <PieCard\n                                        title=\"Housing Tenure\"\n                                        data={makeRenting(displayFeature)}\n                                    />\n                                </div>\n                            </>\n                        )}\n                        {selectedDetails === \"assets\" && (\n                            <>\n                                {facilityTypes && facilityTypes.length > 0 ? (\n                                    facilityTypes.map(type => (\n                                        <AssetCategoryCard\n                                            title={type}\n                                            key={type}\n                                            assets={filteredFacilities.filter(\n                                                f => f.asset_type === type\n                                            )}\n                                        />\n                                    ))\n                                ) : (\n                                    <div className=\"asset-placeholder\">\n                                        <h2>\n                                            Turn on some Community Assets to\n                                            view here\n                                        </h2>\n                                    </div>\n                                )}\n                            </>\n                        )}\n                    </div>\n                )}\n            </div>\n        </React.Fragment>\n    ) : (\n        <div className=\"placeholder\">\n            <h2>Click {featureName} for details</h2>\n        </div>\n    );\n}\n","import React, { useEffect, useState, useMemo } from \"react\";\n\nexport default function useFacilities() {\n    const [facilities, setFacilities] = useState(null);\n    useEffect(() => {\n        fetch(`${process.env.PUBLIC_URL}/facilities.geojson`)\n            .then(a => a.json())\n            .then(a => setFacilities(a));\n    }, []);\n    return facilities;\n}\n\nexport function useFilteredFacilities(facilities, id, layer, types) {\n    console.log(\"filtering facilities by \", id, layer, types);\n    const layerIDs = {\n        cd: \"community_district_id\",\n        tracts: \"census_tract_id\",\n        cc: \"city_council_district_id\",\n        sd: \"school_district_id\",\n        nta: \"nta_id\",\n        police_precincts: \"precinct_id\",\n        congress_districts: \"cong_dist_id\",\n        senate_districts: \"st_sen_dist_id\",\n        NOCCs: \"noccs_id\"\n    };\n    return useMemo(() => {\n        return id\n            ? facilities.features\n                  .filter(\n                      facility => facility.properties[layerIDs[layer]] == id\n                  )\n                  .filter(facility =>\n                      types && types.length > 0\n                          ? types.includes(facility.properties.asset_type)\n                          : true\n                  )\n                  .map(f => f.properties)\n            : [];\n    }, [id, facilities, layer, types]);\n}\n","export const fillStyles = {\n    responseRate: [\n        \"interpolate-lab\",\n        [\"linear\"],\n        [\"get\", \"CRRALL\"],\n        0.0,\n        \"#FFFFFF\",\n        70.0,\n        \"#faaf12\"\n    ],\n    strategy: [\n        \"match\",\n        [\"get\", \"strategy_code\"],\n        0,\n        \"#C2A5CF\",\n        1,\n        \"#9970AB\",\n        2,\n        \"#A6DBA0\",\n        3,\n        \"#5AAE61\",\n        \"grey\"\n    ],\n    blackPop: [\n        \"interpolate-lab\",\n        [\"linear\"],\n        [\"/\", [\"get\", \"race_black\"], [\"get\", \"race_total\"]],\n        0.0,\n        \"#FFFFFF\",\n        1.0,\n        \"#b93f22\"\n    ],\n    asianPop: [\n        \"interpolate-lab\",\n        [\"linear\"],\n        [\"/\", [\"get\", \"race_asian\"], [\"get\", \"race_total\"]],\n        0.0,\n        \"#FFFFFF\",\n        1.0,\n        \"#8f1158\"\n    ],\n    latinxPop: [\n        \"interpolate-lab\",\n        [\"linear\"],\n        [\"/\", [\"get\", \"race_hispanic\"], [\"get\", \"race_total\"]],\n        0.0,\n        \"#FFFFFF\",\n        1.0,\n        \"#cf0621\"\n    ],\n    whitePop: [\n        \"interpolate-lab\",\n        [\"linear\"],\n        [\"/\", [\"get\", \"race_white\"], [\"get\", \"race_total\"]],\n        0.0,\n        \"#FFFFFF\",\n        1.0,\n        \"#faaf12\"\n    ],\n    otherPop: [\n        \"interpolate-lab\",\n        [\"linear\"],\n        [\"/\", [\"get\", \"race_other\"], [\"get\", \"race_total\"]],\n        0.0,\n        \"#FFFFFF\",\n        0.2,\n        \"#000000\"\n    ],\n    noInternetPC: [\n        \"interpolate-lab\",\n        [\"linear\"],\n        [\"/\", [\"get\", \"internet_no_access\"], [\"get\", \"internet_total\"]],\n        0.0,\n        \"#FFFFFF\",\n        1.0,\n        \"#faaf12\"\n    ],\n    englishProficency: [\n        \"interpolate-lab\",\n        [\"linear\"],\n        [\n            \"-\",\n            1,\n            [\n                \"/\",\n                [\"get\", \"english_english\"],\n                [\"get\", \"english_total_households\"]\n            ]\n        ],\n        0.0,\n        \"#FFFFFF\",\n        1.0,\n        \"#faaf12\"\n    ],\n    under5: [\n        \"interpolate-lab\",\n        [\"linear\"],\n        [\"/\", [\"get\", \"age_less_5\"], [\"get\", \"age_total\"]],\n        0.0,\n        \"#FFFFFF\",\n        0.1,\n        \"#faaf12\"\n    ],\n    returnCount: [\n        \"step\",\n        [\"get\", \"MRR2010\"],\n        \"#b95356\",\n        60,\n        \"#ee5658\",\n        65,\n        \"#ecbaa8\",\n        70,\n        \"#f9bd53\",\n        73,\n        [\"rgba\", 0, 0, 0, 0]\n    ]\n};\n\nexport default {\n    HTCLayer: {\n        //url: `${process.env.PUBLIC_URL}/CensusTractsAllVariables.geojson`,\n        url: `${process.env.PUBLIC_URL}/census_tracts.geojson`,\n        paintFill: {\n            \"fill-color\": \"grey\",\n            \"fill-opacity\": 0.7\n        },\n        paintLine: {\n            \"line-color\": [\n                \"case\",\n                [\n                    \"boolean\",\n                    [\"coalesce\", [\"feature-state\", \"selected\"], false],\n                    true\n                ],\n                \"red\",\n                \"white\"\n            ],\n            \"line-width\": [\n                \"case\",\n                [\n                    \"boolean\",\n                    [\"coalesce\", [\"feature-state\", \"selected\"], false],\n                    true\n                ],\n                3,\n                1\n            ]\n        }\n    },\n    EarlyNRFU: {\n        url: `${process.env.PUBLIC_URL}/boundaries/EarlyNRFULocations.geojson`,\n        paintFill: {\n            \"fill-color\": \"blue\",\n            \"fill-opacity\": 0.7\n        }\n    }\n};\n\nexport function BoundaryLayers() {\n    const layer_list = [\n        {\n            id: \"NOCCs\",\n            datasetName: \"NOCCS\",\n            polygons: \"noccs_with_vars.geojson\",\n            labels: \"noccs_labels.geojson\",\n            url:\n                \"http://data.cityofnewyork.us/api/geospatial/cpf4-rkhq?method=export&format=Shapefile\",\n            nameCol: \"ntaname\",\n            nameAlt: \"ntacode\"\n        },\n        {\n            id: \"sd\",\n            datasetName: \"School Districts\",\n            polygons: \"school_districts_with_vars.geojson\",\n            labels: \"school_district_labels.geojson\",\n            url:\n                \"http://data.cityofnewyork.us/api/geospatial/r8nu-ymqj?method=export&format=Shapefile\",\n            nameCol: \"district\",\n            nameAlt: \"districtco\"\n        },\n        {\n            id: \"police_precincts\",\n            datasetName: \"Police Precincts\",\n            polygons: \"police_precincts_with_vars.geojson\",\n            labels: \"police_precincts_labels.geojson\",\n            url:\n                \"http://data.cityofnewyork.us/api/geospatial/yusd-j4xi?method=export&format=Shapefile\",\n            nameCol: \"geoid\",\n            nameAlt: null\n        },\n        {\n            id: \"cd\",\n            datasetName: \"Community Districts\",\n            polygons: \"community_districts_vars.geojson\",\n            labels: \"communty_district_labels.geojson\",\n            url:\n                \"http://data.cityofnewyork.us/api/geospatial/yfnk-k7r4?method=export&format=Shapefile\",\n            nameCol: \"boro_cd\",\n            nameAlt: null\n        },\n        {\n            id: \"cc\",\n            datasetName: \"City Council Districts\",\n            polygons: \"city_council_district_with_vars.geojson\",\n            labels: \"city_council_district_labels.geojson\",\n            url:\n                \"http://data.cityofnewyork.us/api/geospatial/yusd-j4xi?method=export&format=Shapefile\",\n            nameCol: \"coun_dist\",\n            nameAlt: null\n        },\n        {\n            id: \"congress_districts\",\n            datasetName: \"Congressional Districts\",\n            polygons: \"congress_assembly_with_vars.geojson\",\n            labels: \"congress_assembly_district_labels.geojson\",\n            url:\n                \"http://data.cityofnewyork.us/api/geospatial/yusd-j4xi?method=export&format=Shapefile\",\n            nameCol: \"geoid\",\n            nameAlt: null\n        },\n\n        {\n            id: \"state_assembly_districts\",\n            datasetName: \"State Assembly Districts\",\n            polygons: \"state_assembly_districts_with_vars.geojson\",\n            labels: \"state_assembly_districts_labels.geojson\",\n            url:\n                \"http://data.cityofnewyork.us/api/geospatial/yusd-j4xi?method=export&format=Shapefile\",\n            nameCol: \"assem_dist\",\n            nameAlt: null\n        },\n        {\n            id: \"senate_districts\",\n            datasetName: \"Senate Districts\",\n            polygons: \"senate_districts_with_vars.geojson\",\n            labels: \"senate_districts_with_vars.geojson\",\n            url:\n                \"http://data.cityofnewyork.us/api/geospatial/yusd-j4xi?method=export&format=Shapefile\",\n            nameCol: \"st_sen_dist\",\n            nameAlt: null\n        }\n        /*{\n      id: 'pp',\n      datasetName: 'Police Precincts',\n      url:\n        'http://data.cityofnewyork.us/api/geospatial/78dh-3ptz?method=export&format=Shapefile',\n      nameCol: 'precinct',\n      nameAlt: null,\n    },\n    {\n      id: 'hc',\n      datasetName: 'Health Center Districts',\n      url:\n        'http://data.cityofnewyork.us/api/geospatial/b55q-34ps?method=export&format=Shapefile',\n      nameCol: 'hcent_dist',\n      nameAlt: null,\n    },\n    {\n      id: 'nycongress',\n      datasetName: 'Congressional Districts',\n      url:\n        'http://data.cityofnewyork.us/api/geospatial/qd3c-zuu7?method=export&format=Shapefile',\n      nameCol: 'cong_dist',\n      nameAlt: null,\n    },\n    {\n      id: 'sa',\n      datasetName: 'State Assembly Districts',\n      url:\n        'http://data.cityofnewyork.us/api/geospatial/pf5b-73bw?method=export&format=Shapefile',\n      nameCol: 'assem_dist',\n      nameAlt: null,\n    },\n    {\n      id: 'ss',\n      datasetName: 'State Senate Districts',\n      url:\n        'http://data.cityofnewyork.us/api/geospatial/h4i2-acfi?method=export&format=Shapefile',\n      nameCol: 'st_sen_dis',\n      nameAlt: null,\n    },\n    {\n      id: 'bid',\n      datasetName: 'Business Improvement District',\n      url:\n        'http://data.cityofnewyork.us/api/geospatial/ejxk-d93y?method=export&format=Shapefile',\n      nameCol: 'bid',\n      nameAlt: null,\n    },\n    /*{\n      id: 'zipcode',\n      datasetName: 'Zip Code',\n      url: 'http://data.cityofnewyork.us/download/i8iw-xf4u/application%2Fzip',\n      nameCol: 'ZIPCODE',\n      nameAlt: null,\n},*/\n    ];\n\n    return layer_list.map(layer => ({\n        ...layer,\n        paintLine: {\n            \"line-color\": \"black\"\n        }\n    }));\n}\n","import React, { useEffect } from \"react\";\nimport useFacilities from \"./useFacilities\";\n\nfunction loadAllImages(map) {\n    const images = [\n        \"Dot_Hospitals.png\",\n        \"Dot_FBO.png\",\n        \"Dot_CommunitySchools.png\",\n        \"Dot_LGBTQ.png\",\n        \"Dot_FoodKitchens.png\",\n        \"Dot_SeniorCenters.png\",\n        \"Dot_UniPreK.png\",\n        \"Dot_K12.png\",\n        \"Dot_CommunityCenters.png\",\n        \"Dot_MentalHealth.png\",\n        \"Dot_CBO.png\",\n        \"Dot_Libraries.png\"\n    ];\n    return Promise.all(\n        images.map(\n            img =>\n                new Promise((resolve, reject) => {\n                    map.loadImage(\n                        `${process.env.PUBLIC_URL}/imgs/${img}`,\n                        function(error, res) {\n                            map.addImage(img, res);\n                            resolve();\n                        }\n                    );\n                })\n        )\n    );\n}\n\nexport default function useFacilitiesLayer(map,facilities, visible, selectedTypes) {\n    const types = facilities\n        ? facilities.features.reduce((set, f) => {\n              set.add(f.properties.asset_type);\n              return set;\n          }, new Set())\n        : [];\n\n    useEffect(() => {\n        if (map.current && facilities) {\n            map.current.on(\"load\", () => {\n                loadAllImages(map.current).then(() => {\n                    types.forEach(type => {\n                        map.current.addLayer({\n                            id: `facilities: ${type}`,\n                            type: \"symbol\",\n                            source: {\n                                type: \"geojson\",\n                                data: {\n                                    ...facilities,\n                                    features: facilities.features.filter(\n                                        f => f.properties.asset_type === type\n                                    )\n                                }\n                            },\n\n                            layout: {\n                                \"icon-image\": [\"get\", \"icon\"],\n                                \"icon-size\": 0.02,\n                                \"text-field\": [\"get\", \"name\"],\n                                \"text-font\": [\n                                    \"Open Sans Semibold\",\n                                    \"Arial Unicode MS Bold\"\n                                ],\n                                \"text-offset\": [0, 0.6],\n                                \"text-size\": 13,\n                                \"text-anchor\": \"top\",\n                                //'icon-allow-overlap': true,\n                                //              'text-allow-overlap': true,\n                                visibility: selectedTypes.includes(type)\n                                    ? \"visible\"\n                                    : \"none\"\n                            },\n                            //    filter: ['match', ['get', 'asset_type'], types, true, false],\n\n                            paint: {\n                                \"text-color\": \"rgba(255,255,255,1)\",\n                                \"text-halo-color\": \"rgba(10, 10, 10, 0.8)\",\n                                \"text-halo-width\": 1,\n                                \"text-halo-blur\": 0\n                            }\n                        });\n                    });\n                });\n            });\n        }\n    }, [map, facilities]);\n\n    useEffect(() => {\n\n        const setVisibility = (shouldBeVisable)=>{\n            if (map.current && map.current.loaded()) {\n                types.forEach( type=>{\n                    map.current.setLayoutProperty(\n                        `facilities: ${type}`,\n                        \"visibility\",\n                        shouldBeVisable && selectedTypes.includes(type) ? \"visible\" : \"none\"\n                    );\n                    })\n            }\n            else{\n                setTimeout(()=>setVisibility(shouldBeVisable),200)\n            }\n        }\n        setVisibility(visible);\n       \n    }, [map, visible, types,selectedTypes]);\n\n    return facilities;\n}\n","\nimport React, { useEffect } from \"react\";\nimport useOutreachTargets from \"./useOutreachTargets\";\n\n\nconst name_fields = {\n    autorepairshops_nyc_geocoded: \"facility_name\",\n    bank_owned_atmlocations_nyc_geocodio: \"atm_name\",\n    bodegas_grocers_nyc: \"business_name\",\n    chain_grocerystores_nyc_geocoded: \"name\",\n    doe_schools_nyc: \"facname\",\n    dohmh_farmers_markets:\"market_name\",\n    foodkitchens_nyc: \"facname\",\n    homelessshelters_nyc:\"name\",\n    hospitalsandhealthclinics_nyc :\"facility_n\",\n    liquor_winestores_nyc_geocoded:'premise_name',\n    nyc_gas_station_locations_geoclient_enriched: \"station_name\",\n    post_offices:\"name\",\n    seniorservices_nyc_geocoded :\"program_name\",\n    laundromats_nyc: 'business_name'\n}\n\nconst type_map = {\n    autorepairshops_nyc_geocoded: \"repair_services\",\n    bank_owned_atmlocations_nyc_geocodio: \"financial_institutions\",\n    bodegas_grocers_nyc: \"food_and_supplies\",\n    chain_grocerystores_nyc_geocoded: \"food_and_supplies\",\n    doe_schools_nyc: \"education\",\n    dohmh_farmers_markets:\"food_and_supplies\",\n    foodkitchens_nyc: \"social_services\",\n    homelessshelters_nyc:\"social_services\",\n    hospitalsandhealthclinics_nyc :\"healthcare\",\n    liquor_winestores_nyc_geocoded:'food_and_supplies',\n    nyc_gas_station_locations_geoclient_enriched: \"misc\",\n    post_offices:\"social_services\",\n    seniorservices_nyc_geocoded :\"social_services\",\n    laundromats_nyc:'laundry'\n}\n\n\nconst colors=[\n        \"76C04B\",\n        \"8D1840\",\n        \"A44098\",\n        \"767FBE\",\n        \"41674F\",\n        \"FBA919\",\n        \"34499E\",\n        \"9D9A51\",\n        \"ED2024\",\n        \"FCC28E\",\n        \"E2E419\",\n        \"5F3092\",\n        \"865F94\",\n        \"5B8AAE\",\n        \"DD4297\",\n        \"B86328\"\n]\n\nconst unclaimedColor=  \"484949\"\n\nconst generateICON = (claimedBy,pending,type)=>{\n    let iconType = 'unclaimed'\n    if(claimedBy && pending){\n        iconType = 'pending'\n    }\n    if( claimedBy && !pending){\n        iconType ='done'\n    }\n\n    let color = unclaimedColor\n    if(claimedBy){\n        color = claimedBy\n    }\n    \n    return `${iconType}_${type_map[type]}_${color}`\n}\n\nfunction generateOutreachData(targets,assignments,ccfs,type){\n    const features = targets['features']\n    const newFeatures = features.map((feature)=>{\n        const assignment = assignments.find(assignment => parseInt(assignment['Business ID #']) === feature.id )\n        \n        if(assignment){\n            const ccf = ccfs.find(c=>c.name === assignment['CCF Grantee'])\n            const icon = generateICON(ccf.color,assignment.Status.includes('Outreach in progress'),type)\n            return {\n                ...feature,\n                properties: {...feature.properties, icon : icon},\n            }\n        }\n        else{\n            return{\n                ...feature,\n                properties:{...feature.properties, icon: generateICON(null,false, type)}\n            }\n        }\n    })\n    return {\n        features:newFeatures,\n        type:'FeatureCollection'\n    }\n}\n\nexport default function useOutreachLayer(\n    map, \n    outreachTragets, \n    visible, \n    selectedTypes, \n    onClick, \n    assignments, \n    ccfs) {\n    const types = Object.keys(outreachTragets)\n\n    useEffect(()=>{\n        if(ccfs && assignments){\n            console.log(\"UPDATING DATA\")\n            types.forEach(type=>{\n              const source  = map.current.getSource(`outreach_source: ${type}`)\n              if(source){\n                source.setData(generateOutreachData(outreachTragets[type],assignments, ccfs, type))\n              }\n            })\n            map.current.triggerRepaint()\n        }\n    },[map,outreachTragets,assignments, types,ccfs])\n\n    useEffect(() => {\n        if (map.current && outreachTragets) {\n            map.current.on(\"load\", () => {\n                    types.forEach(type => {\n                        console.log(`outreach: ${type}`)\n                        if(!map.current.getSource(`outreach_source: ${type}`)){\n                            try{\n                                const source = map.current.addSource(\n                                    `outreach_source: ${type}`,\n                                    {\n                                        type: \"geojson\",\n                                        data: generateOutreachData(outreachTragets[type],assignments, ccfs, type)\n                                    }\n                                )\n                                map.current.addLayer({\n                                    id: `outreach: ${type}`,\n                                    type: \"symbol\",\n                                    source: `outreach_source: ${type}`,\n                                    layout: {\n                                        \"icon-image\": ['get','icon'], // [\"get\", \"icon\"],\n                                        \"icon-size\": 0.4,\n                                        \"text-field\": ['get',name_fields[type]],\n                                        \"text-font\": [\n                                            \"Open Sans Semibold\",\n                                            \"Arial Unicode MS Bold\"\n                                        ],\n                                        \"text-offset\": [0, 2],\n                                        \"text-size\": 13,\n                                        \"text-anchor\": \"top\",\n                                        //'icon-allow-overlap': true,\n                                        //              'text-allow-overlap': true,\n                                        // visibility: selectedTypes.includes(type)\n                                        //     ? \"visible\"\n                                        //     : \"none\"\n                                        visibility: visible ? 'visible' :'none'\n                                    },\n                                    //    filter: ['match', ['get', 'asset_type'], types, true, false],\n\n                                    paint: {\n                                        \"text-color\": \"rgba(255,255,255,1)\",\n                                        \"text-halo-color\": \"rgba(10, 10, 10, 0.8)\",\n                                        \"text-halo-width\": 1,\n                                        \"text-halo-blur\": 0\n                                    }\n                                });\n                                map.current.on('click',  `outreach: ${type}`, (e)=>{\n                                    if(e.features.length >0){\n                                        console.log(\"clicked feacture \", e.features[0])\n                                        const coordinates = e.features[0].geometry.coordinates.slice();\n                                        const data = e.features[0].properties\n                                        onClick({coordinates,data})\n                                    }\n                                })\n                            }\n                            catch{\n                                console.log(\"SOMETHING WENT WRONG SETTING UP LAYER\")\n                            }\n                        }\n                    });\n            });\n        }\n    }, [map, outreachTragets]);\n\n\n\n    useEffect(() => {\n\n        const setVisibility = (layer, shouldBeVisable)=>{\n                if (map.current && map.current.loaded() && map.current.getLayer(`outreach: ${layer}`)) {\n                    map.current.setLayoutProperty(\n                        `outreach: ${layer}`,\n                        \"visibility\",\n                        shouldBeVisable && selectedTypes.includes(layer) ? 'visible' : 'none' \n                    )\n                }\n                else{\n                   console.log(\"waiting\")\n                     setTimeout(()=>setVisibility(layer,shouldBeVisable),200)\n                }\n            }\n            \n        types.forEach(type => setVisibility(type,visible));\n       \n    }, [map, visible, selectedTypes,types]);\n\n}\n","import React from \"react\";\nimport {\n    Image,\n    Document,\n    Page,\n    Text,\n    View,\n    StyleSheet\n} from \"@react-pdf/renderer\";\n\n// Create styles\nconst styles = StyleSheet.create({\n    page: {\n        flexDirection: \"row\",\n        backgroundColor: \"white\"\n    },\n    section: {\n        margin: 0,\n        padding: 0,\n        flexGrow: 1,\n        alignItems: \"center\",\n        justifyContent: \"center\"\n    }\n});\n\n// Create Document Component\nexport default function PDFDoc({ mapImage }) {\n    console.log(\"map image is \", mapImage);\n    const mapImageRatio = window.innerHeight / window.innerWidth;\n    const height = `${Math.floor(80 * mapImageRatio)}vw`;\n    return (\n        <Document>\n            <Page orientation=\"landscape\" size=\"A4\" style={styles.page}>\n                <View style={styles.section}>\n                    {mapImage && (\n                        <Image\n                            src={mapImage}\n                            style={{\n                                width: \"80vw\",\n                                height: height\n                            }}\n                            debugg={true}\n                        />\n                    )}\n                </View>\n            </Page>\n        </Document>\n    );\n}\n","import React from \"react\";\nimport {\n    PDFViewer,\n    Document,\n    Page,\n    Text,\n    View,\n    StyleSheet\n} from \"@react-pdf/renderer\";\nimport PDFDoc from \"./PDFDoc\";\n\nexport default function PrintDialog({ mapImage, onClose }) {\n    return (\n        <div className=\"print-dialog\">\n            <div className=\"inner\">\n                <PDFViewer style={{ width: \"100%\", flex: 1 }}>\n                    <PDFDoc mapImage={mapImage} />\n                </PDFViewer>\n                <div className=\"buttons\">\n                    <button onClick={onClose}>close</button>\n                </div>\n            </div>\n        </div>\n    );\n}\n","import React from 'react'\n\nconst steps = [\n   \n    {\n        name:'Step 1: Select a Census Grantee',\n        text:`Identify a Census grantee in the dropdown menu above. You may select your organization or another organization. The purpose is to visualize an organization’s outreach progress (color icons), alongside unclaimed businesses (black icons). Select your organization, if you want to conduct outreach and claim businesses.`}\n     ,\n     {\n         name: 'Step 2: Review Outreach Icons',\n         text: `Review the three icons under “COVID-19 Community Assets.”  Black icons are businesses that have not been claimed by a grantee. Colored icons (with a small warning symbol) are businesses that have been claimed by a grantee, but outreach is pending. Color icons (with a solid white inner line) signify a grantee has distributed census marketing materials to the business.`\n     },\n     {\n         name: \"Step 3: Select Business Categories\",\n         text: \"Review the categories of businesses. Select a box to the left of each category to turn the asset layer on. Icons will populate the map, showing a business location and its category. For this map, all business categories are essential business types in accordance with New York State PAUSE. Some businesses may be closed or operate with reduced hours. Please contact a location prior to your visit. We are working on providing contact information for all assets. We are working to provide contact information for all assets.\"\n     },\n     {\n         name: 'Step 4: Review Map and Business Locations For Outreach',\n         text: \"After selecting all relevant business categories, review the regions where you want to conduct or view outreach efforts. If you see a black icon, you may claim the business. If you want to know more about a claimed business, we suggest contacting the grantee that’s claimed the business to discuss your respective outreach effort and coordinate.\"\n     },\n     {\n         name: \"Step 5: Claim Business For Outreach\",\n         text: \"Hover your mouse over the business you wish to claim. A popup box will appear with a Business ID (a unique code for every business on the map). Copy the Business ID and click on the link to claim the business. After clicking the link, a new webpage will appear in your browser titled “NYC Census 2020 - Outreach Mapping.” Follow the form’s instructions to claim the business or to share you have completed your outreach at the business. Once you complete the form the Outreach Map will automatically update.\"\n     }\n]  \n\nexport default function OutreactUserGuide(){\n    return(\n        <>\n        <div className='cards' style={{paddingTop:'10px'}}>\n\n            <div className='card' >\n                <h2>Need Help?</h2>\n                <p>\n                    If you have questions on how to use this map or claim a business for outreach, contact <a href='mailto:2020Census@hesterstreet.org'>2020Census@hesterstreet.org.</a>\n                </p>\n            </div>\n\n        {steps.map(step=>\n                <div className='card'>\n                <h2>{step.name}</h2>\n                <p>{step.text}</p>\n             </div>\n                \n        )}\n        </div>\n        </>\n    )\n}","import React, {useState, useEffect} from 'react'\nimport OutreactUserGuide from './OutreachUserGuide'\n\nexport function CCFDetails({selectedCCF}){\n    const [selectedTab, setSelectedTab] = useState('UserGuide')\n\n    useEffect(()=>{\n        if(selectedCCF){\n         setSelectedTab('CCF')\n        }\n    },[selectedCCF])\n        return <>\n            <div className=\"overview\">\n                <div className ='boundary-type-selector'>\n                    <div className={`boundary-type-selector-type ${selectedTab === 'UserGuide' && 'selected'}`}\n                        onClick ={()=>setSelectedTab('UserGuide')}\n                    >\n                        <h2 style={{boxSizing:'border-box', padding:'20px'}}>User Guide</h2>\n                    </div>\n                    {selectedCCF ?\n                        <div className={`boundary-type-selector-type ${selectedTab === 'CCF' && 'selected'}`}\n                             onClick = {()=>setSelectedTab('CCF')}\n                        >\n                            <h2 style={{boxSizing:'border-box', padding:'20px'}}>{selectedCCF.name}</h2>\n                        </div>\n                        :\n                        <div className={`boundary-type-selector-type`}>\n                            <h2 style={{boxSizing:'border-box', padding:'20px'}}>Select a Census Grantee</h2>\n                        </div>\n                    }\n\n                        <a style={{color:'red', textDecoration:'none'}} href='https://hstcensus2020.formstack.com/forms/cff_grantee_business_outreach_tracker' target=\"_blank\">\n                            <h2 style={{boxSizing:'border-box', padding:'20px'}}>Click here to claim an asset for outreach!</h2></a>\n                    \n                </div>\n            </div>\n            <div className='selector-cards'>\n                { (selectedTab  === 'UserGuide' &&\n                    <OutreactUserGuide />\n                )}\n\n                { (selectedTab === 'CCF' && selectedCCF) && \n                <>\n                    <div className='cards'>\n                        <div className='card CCFCard'>\n                            <h2>{selectedCCF.name} Outreach progress</h2>\n                            <p>No Community Assets Cliamed</p>\n                        </div>\n                    </div>\n                    <div className='cards'>\n                        <div className='card'>\n                            <h2>Asset Types</h2>\n                            <p>No Community Assets Claimed</p>\n                        </div> \n                    </div>\n                    <div className='cards'>\n                        <div className='card'>\n                            <h2>Borough Outreached</h2>\n                            <p>No Community Assets Cliamed</p>\n                        </div>\n                    </div>\n                </>\n                }\n            </div>\n        </>\n    }\n","import React, { useRef, useState, useEffect, useCallback } from \"react\";\nimport { useMap } from \"../hooks/useMap\";\nimport Legend from \"../components/Legend\";\nimport Details from \"../components/Details\";\nimport Papa from \"papaparse\";\nimport * as turf from \"@turf/turf\";\nimport { useGeoJSONLayer } from \"../hooks/useGeoJSONLayer\";\nimport useBoundaryLayers from \"../hooks/useBoundaryLayers\";\nimport useFacilitiesLayer from \"../hooks/useFacilitiesLayer\";\nimport useOutreachTargets from \"../hooks/useOutreachTargets\";\nimport useOutreachLayers from '../hooks/useOutreachLayers'\nimport Layers, { fillStyles } from \"../Layers\";\nimport ReactGA from \"react-ga\";\nimport queryString from \"query-string\";\nimport PrintDialog from \"../components/PrintDialog\";\nimport { CCFDetails } from \"../components/CCFDetails\";\nimport useFacilities from \"../hooks/useFacilities\";\nimport {useCCFs} from \"../hooks/useCCFs\";\n\nimport useCCFAssignments from '../hooks/useCCFAssignments'\n\nexport default function MainPage() {\n    const mapDiv = useRef(null);\n    const [selectedBoundary, setSelectedBoundary] = useState(\"NOCCs\");\n    const [selectedTract, setSelectedTract] = useState(null);\n    const [selectedFeature, setSelectedFeature] = useState(null);\n    const [hardToCountStats, setHardToCountStats] = useState([]);\n    const [selectedCCF, setSelectedCCF] = useState(null)\n\n    const [popupFeature, setPopupFeature] = useState(null)\n\n    const [selectedFacilityTypes, setSelectedFacilityTypes] = useState([]);\n    const [selectedOutreachTypes, setSelectedOutreachTypes]= useState([]);\n    const [metric, setMetric] = useState(\"responseRate\");\n    const [showENRFU, setShowNRFU] = useState(false);\n    const [showPrintDialog, setShowPrintDialog] = useState(false);\n    const [showOutreach, setShowOutreach] = useState(false)\n    const [showFacilities, setShowFacilities] = useState(true);\n\n    const [mapImage, setMapImage] = useState(null);\n    const [tab, setTab] = useState(\"layers\");\n    const ccfAssigments = useCCFAssignments()\n    const ccfs = useCCFs(\n\n    )\n    // useCCFAssignments()\n    const outreachTargets = useOutreachTargets();\n\n    useEffect(() => {\n        ReactGA.initialize(\"UA-159011122-1\");\n        ReactGA.pageview(window.location.pathname + window.location.search);\n    }, []);\n\n    useEffect(() => {\n        Papa.parse(\"/hard_to_count_NY.csv\", {\n            download: true,\n            header: true,\n            complete: function(results) {\n                setHardToCountStats(results);\n            }\n        });\n    }, []);\n\n    const onToggleFacilityType = types => {\n        let newList = [...selectedFacilityTypes];\n        types.forEach(type => {\n            if (newList.includes(type)) {\n                newList = newList.filter(t => t !== type);\n            } else {\n                newList = [...newList, type];\n            }\n        });\n        setSelectedFacilityTypes(newList);\n    };\n\n    const { map, zoomToBounds } = useMap(mapDiv, {\n        // lnglat: [-73.9625463540349, 40.67728661754935],\n        // zoom: 15,\n        lnglat: [-73.9920330193022, 40.75078660435196],\n        zoom: 10,\n        style: \"mapbox://styles/mapbox/light-v10\",\n        key:\n            \"pk.eyJ1Ijoic3R1YXJ0LWx5bm4iLCJhIjoiM2Q4ODllNmRkZDQ4Yzc3NTBhN2UyNDE0MWY2OTRiZWIifQ.8OEKvgZBCCtDFUXkjt66Pw\"\n    },popupFeature);\n\n    const tryToPrint = () => {\n        const canvas = document.getElementsByClassName(\"mapboxgl-canvas\")[0];\n        const imageURL = canvas.toDataURL(\"image/png\");\n        setMapImage(imageURL);\n        setShowPrintDialog(true);\n        /*  canvas.toBlob(blob => {\n                debugger;\n                setMapImage(blob);\n                setShowPrintDialog(true);\n            }, \"image/png\");\n*/\n    };\n\n    const toggleSelectedOutreachTypes = (types)=>{\n            let newList = [...selectedOutreachTypes];\n            types.forEach(type => {\n                if (newList.includes(type)) {\n                    newList = newList.filter(t => t !== type);\n                } else {\n                    newList = [...newList, type];\n                }\n            });\n            setSelectedOutreachTypes(newList);\n    }\n\n    useEffect(() => {\n        const params = queryString.parse(window.location.search);\n        if (params.layer) {\n            setSelectedBoundary(params.layer);\n        }\n        if (params.metric) {\n            setMetric(params.metric);\n        }\n        if (params.nrfu) {\n            setShowNRFU(params.nrfu === \"yes\");\n        }\n        if (params.boundaryID) {\n            const zoomToFeature = () => {\n                if (\n                    map.current &&\n                    map.current.isStyleLoaded &&\n                    map.current.getLayer(params.layer + \"-fill\") &&\n                    map.current.querySourceFeatures(params.layer + \"_source\")\n                        .length > 0\n                ) {\n                    const features = map.current.querySourceFeatures(\n                        params.layer + \"_source\"\n                    );\n                    const sf = features.find(\n                        f => f.id + \"\" === params.boundaryID\n                    );\n                    if (sf) {\n                        setSelectedFeature(sf);\n                        let bounds = turf.bbox(\n                            turf.buffer(sf, 1, { units: \"miles\" })\n                        );\n                        console.log(\"bounds \", bounds);\n                        map.current.fitBounds(bounds);\n                    }\n                } else {\n                    setTimeout(zoomToFeature, 500);\n                }\n            };\n            zoomToFeature();\n        }\n    }, [window.location.search]);\n\n    const searchBox = useRef(null);\n\n    useEffect(() => {\n        setSelectedFeature(null);\n    }, [selectedBoundary]);\n\n    const style = {\n        ...Layers.HTCLayer,\n        ...{\n            paintFill: { \"fill-color\": fillStyles[metric], \"fill-opacity\": 0.7 }\n        }\n    };\n\n\n    const setTractIfActive = useCallback( (tract)=>{ \n        if(tab==='layers'){ \n            setSelectedTract(tract)\n        }\n    },[tab])\n\n    const GeojsonLayer = useGeoJSONLayer(map, \"HTC\", {\n        ...style,\n        onClick: setTractIfActive,\n        selection: selectedTract,\n        visible: true\n    });\n\n    // const EarlyNRFULocations = useGeoJSONLayer(map, \"early_nrfu\", {\n    //     ...Layers.EarlyNRFU,\n    //     visible: showENRFU\n    // });\n\n    // BoundaryLayers().forEach(layer => {\n    const boundaryLayers = useBoundaryLayers(\n        map,\n        selectedBoundary,\n        null,\n        selectedBoundary,\n        selectedFeature ? selectedFeature.id : null,\n        boundary => {\n            setSelectedTract(null);\n            setSelectedFeature(boundary);\n        }\n    );\n\n    const facilities = useFacilities()\n\n    useFacilitiesLayer(\n        map,\n        facilities,\n        showFacilities,\n        selectedFacilityTypes\n    );\n\n    const outreach = useOutreachLayers(\n        map,\n        outreachTargets,\n        showOutreach,\n        selectedOutreachTypes,\n        setPopupFeature,\n        ccfAssigments,\n        ccfs\n    )\n\n\n    useEffect(()=>{\n        if(tab==='layers'){\n            console.log(\"SWITCHING TO layers\")\n            setShowFacilities(true)\n            setShowOutreach(false)\n        }\n        if(tab ==='outreach'){\n            console.log(\"SWITCHING TO outreach\", )\n            setShowFacilities(false)\n            setShowOutreach(true)\n        }\n    },[tab])\n\n    let shareURL = `${window.location.origin}${process.env.PUBLIC_URL}?layer=${selectedBoundary}&metric=${metric}`;\n    if (selectedFeature) {\n        shareURL += `&boundaryID=${selectedFeature.id}`;\n    }\n    return (\n        <div className=\"main-page\">\n            <div className=\"map\" ref={mapDiv} />\n            <div className=\"info overlay\">\n                <h2>NYC CENSUS 2020 INTERACTIVE MAP</h2>\n                <p>\n                    This map is a tool to identify community-based assets, learn\n                    about historically undercounted communities, and visualize\n                    geographically relevant Census data for 2020 Census efforts.\n                </p>\n                <p>\n                    If you are creating an outreach strategy to get your\n                    neighborhood counted, this tool can help! For more\n                    information about the map and how to submit data for your\n                    neighborhood click on the \"?\" below.\n                </p>\n                <div ref={searchBox} />\n            </div>\n            <div className=\"details overlay\">\n                {tab==='layers' ? \n                    <Details\n                        feature={selectedFeature}\n                        tract={selectedTract}\n                        layer={selectedBoundary}\n                        facilityTypes={selectedFacilityTypes}\n                        facilities={facilities}\n                        tab={tab} />\n                    :\n                    <CCFDetails selectedCCF={selectedCCF}/>\n                }\n            </div>\n            <Legend\n                boundaries={boundaryLayers}\n                selectedBoundary={selectedBoundary}\n                onSelectBoundary={setSelectedBoundary}\n                showFacilities={showFacilities}\n                onShowFacilitiesChange={setShowFacilities}\n                selectedFacilityTypes={selectedFacilityTypes}\n                onSelectFacilityType={onToggleFacilityType}\n                selectedCCF= {selectedCCF}\n                onSelectedCCF={setSelectedCCF}\n                selectedOutreachTypes={selectedOutreachTypes}\n                onSelectOutreachTypes={toggleSelectedOutreachTypes}\n                metric={metric}\n                onSelectMetric={setMetric}\n                showENRFU={showENRFU}\n                onToggleENRFU={setShowNRFU}\n                shareURL={shareURL}\n                onPrint={tryToPrint}\n                tab = {tab}\n                onTabChanged = {setTab}\n            />\n            {showPrintDialog && (\n                <PrintDialog\n                    mapImage={mapImage}\n                    onClose={() => setShowPrintDialog(false)}\n                />\n            )}\n        </div>\n    );\n}\n","import {useState, useEffect, useRef} from 'react'\nimport papa from 'papaparse'\n\nexport default function useCCFAssignments(){\n    const [CCFBizCrosswalk, setCCFBizCrosswalk] = useState([])\n    const intervalRef = useRef(null)\n    const getData = ()=>{\n        console.log(\"UPDATED ASSIGNEMENTS\")\n        papa.parse(`https://docs.google.com/spreadsheets/d/e/2PACX-1vSa1xobVkjf1SwHahluf5e_hxMQEj733XLGf5xj-bH6-2X-IpB3jHZ7XGnqFWABsRMtepFmY3psxF98/pub?gid=0&single=true&output=csv&range=A1:E${10000+Math.floor(100*Math.random())}`,\n            {\n                download: true,\n                header:true,\n                complete:(data=> {\n                    setCCFBizCrosswalk(data.data)\n                })\n            })\n    }\n    \n    useEffect(()=>{\n        intervalRef.current = setInterval(getData,10000)\n        getData()\n        return () => clearInterval(intervalRef.current)\n    },[])\n\n\n    return CCFBizCrosswalk\n}","import { useState, useEffect } from \"react\";\n\nexport default function useOutreachTargets() {\n    const [targets, setTargets] = useState([]);\n    const targetTableList = [\n        \"autorepairshops_nyc_geocoded\",\n        \"bank_owned_atmlocations_nyc_geocodio\",     \n        \"bodegas_grocers_nyc\",\n        \"chain_grocerystores_nyc_geocoded\",\n        \"doe_schools_nyc\",\n        \"dohmh_farmers_markets\",\n        \"foodkitchens_nyc\",\n        \"homelessshelters_nyc\",\n        \"hospitalsandhealthclinics_nyc\",\n        \"laundromats_nyc\",\n        \"liquor_winestores_nyc_geocoded\",\n        \"nyc_gas_station_locations_geoclient_enriched\",\n        \"post_offices\",\n        \"seniorservices_nyc_geocoded\"\n    ];\n\n    useEffect(() => {\n        Promise.all(\n            targetTableList.map(t =>\n                fetch(\n                    `https://hesterst.carto.com/api/v2/sql?filename=post_office&q=select+*+from+public.${t}&format=geojson&bounds=&api_key=2QqDs_ZDTqDeIQ3xFFFixw`\n                )\n                    .then(r => r.json())\n                    .then(a => ({\n                        ...a,\n                        features: a.features.map(f => ({\n                            ...f,\n                            properties: { ...f.properties, type: t },\n                            id: f.properties.unique_id\n                        }))\n                    }))\n            )\n        ).then(all_features => {\n            const reducedTargets = all_features.reduce((r,a,i)=> ({...r, [targetTableList[i]] : a}) , {});\n            setTargets(reducedTargets);\n        });\n    }, []);\n    return targets;\n}\n","import { useState, useRef, useEffect, useCallback } from \"react\";\nimport mapboxgl from \"mapbox-gl\";\nimport MapboxGeocoder from \"@mapbox/mapbox-gl-geocoder\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport \"@mapbox/mapbox-gl-geocoder/lib/mapbox-gl-geocoder.css\";\nimport style from \"../map_style\";\n\nexport function useMap(mapDivRef, { lnglat, zoom, key }, popupFeature) {\n    const [mapLoaded, setMapLoaded] = useState(false);\n    mapboxgl.accessToken = key;\n    const map = useRef(null);\n    const popup =  useRef(null)\n    const spriteURL =  `${process.env.PUBLIC_URL ? process.env.PUBLIC_URL+\"/\" : window.location.href}outreach_icons/sp`\n    useEffect(() => {\n        map.current = new mapboxgl.Map({\n            container: mapDivRef.current, // container id\n            style: {...style, sprite:spriteURL}, // stylesheet location\n            center: lnglat, // starting position [lng, lat]\n            zoom: zoom, // starting zoom,\n            preserveDrawingBuffer: true,\n            // sprite:\"/outreach_icons/sp\"\n\n        });\n        map.current.addControl(\n            new MapboxGeocoder({\n                accessToken: mapboxgl.accessToken,\n                mapboxgl: mapboxgl\n            })\n        );\n        map.current.addControl(new mapboxgl.ScaleControl(), \"top-right\");\n        map.current.addControl(new mapboxgl.NavigationControl());\n        window.map = map;\n    }, [mapDivRef]);\n\n\n    useEffect(()=>{\n        if(popupFeature){\n            console.log('popup feature ', popupFeature)\n            popup.current= new mapboxgl.Popup({ offset: 25 })\n            .setLngLat(popupFeature.coordinates)\n            .setHTML(`\n                <h3><a target=\"_blank\" href=\"https://hstcensus2020.formstack.com/forms/cff_grantee_business_outreach_tracker\">Click here</a> to claim this asset for outreach!</h3>\n                <h3 style='font-weight:700'>Business ID: ${popupFeature.data.unique_id}</h3>\n                <h3>Please copy Business ID.</h3>\n             `)\n            .addTo(map.current);\n        }\n        else{\n            if(popup.current){\n                popup.current.remove()\n                popup.current=null\n            }\n        }\n    },[popupFeature])\n\n    const zoomToBounds = bounds => {\n        if (map.current) {\n            map.current.fitBounds([\n                [32.958984, -5.353521],\n                [43.50585, 5.615985]\n            ]);\n        }\n    };\n\n    return { map, zoomToBounds };\n}\n","import { useEffect, useRef } from \"react\";\n\nexport function useGeoJSONLayer(\n    map,\n    name,\n    { url, paintFill, paintLine, sourceLayer, onClick, selection, visible }\n) {\n    const fillLayer = useRef(null);\n    const lineLayer = useRef(null);\n    const source = useRef(null);\n    const source_name = `${name}_source`;\n    const oldSelectionID = useRef(null);\n    const metricChangeTimeout = useRef(null);\n    const visibilityChangeTimeout = useRef(null);\n\n    useEffect(() => {\n        if (map.current) {\n            map.current.on(\"load\", () => {\n                source.current = map.current.addSource(source_name, {\n                    type: \"geojson\",\n                    data: url\n                });\n\n                if (paintFill) {\n                    fillLayer.current = map.current.addLayer({\n                        id: `${name}-fill`,\n                        type: \"fill\",\n                        source: source_name,\n                        paint: paintFill,\n                        layout: {\n                            visibility: visible ? \"visible\" : \"none\"\n                        }\n                    });\n                }\n                if (paintLine) {\n                    lineLayer.current = map.current.addLayer({\n                        id: `${name}-line`,\n                        type: \"line\",\n                        source: source_name,\n                        paint: paintLine,\n                        layout: {\n                            visibility: visible ? \"visible\" : \"none\"\n                        }\n                    });\n                }\n                map.current.on(\"click\", `${name}-fill`, e => {\n                    console.log(e.features[0]);\n                    if (onClick) {\n                        onClick(e.features[0]);\n                    }\n                });\n            });\n        }\n    }, [map]);\n\n    useEffect(() => {\n        if (map.current && selection) {\n            if (oldSelectionID.current) {\n                map.current.setFeatureState(\n                    { source: source_name, id: oldSelectionID.current },\n                    { selected: false }\n                );\n            }\n\n            map.current.setFeatureState(\n                { source: source_name, id: selection.id },\n                { selected: true }\n            );\n            oldSelectionID.current = selection.id;\n        }\n    }, [selection]);\n\n    // useEffect(() => {\n    //     if (map.current) {\n    //         const setVisibility = () => {\n    //             if (map.current.loaded()) {\n    //                 map.current.setLayoutProperty(\n    //                     `early_nrfu-fill`,\n    //                     \"visibility\",\n    //                     visible ? \"visible\" : \"none\"\n    //                 );\n    //                 map.current.setLayoutProperty(\n    //                     `early_nrfu-line`,\n    //                     \"visibility\",\n    //                     visible ? \"visible\" : \"none\"\n    //                 );\n    //             } else {\n    //                 if (visibilityChangeTimeout.current) {\n    //                     clearTimeout(visibilityChangeTimeout.current);\n    //                     visibilityChangeTimeout.current = null;\n    //                 }\n    //                 visibilityChangeTimeout.current = setTimeout(\n    //                     setVisibility,\n    //                     200\n    //                 );\n    //             }\n    //         };\n    //         setVisibility();\n    //     }\n    // }, [map, visible]);\n\n    useEffect(() => {\n        if (map.current) {\n            const setPaint = () => {\n                if (map.current.loaded()) {\n                    map.current.setPaintProperty(\n                        `${name}-fill`,\n                        \"fill-color\",\n                        paintFill[\"fill-color\"]\n                    );\n                } else {\n                    if (metricChangeTimeout.current) {\n                        clearTimeout(metricChangeTimeout.current);\n                        metricChangeTimeout.current = null;\n                    }\n                    metricChangeTimeout.current = setTimeout(setPaint, 500);\n                }\n            };\n            setPaint();\n        }\n    }, [paintFill]);\n    return { fillLayer, source };\n}\n","import React, { useEffect, useState, useRef } from \"react\";\nimport { BoundaryLayers } from \"../Layers\";\n\nexport default function useBoundaryLayers(\n    map,\n    selectedLayer,\n    selectedVar,\n    onSelectLayer,\n    selectedGeomID,\n    onClick\n) {\n    const [layers, setLayers] = useState({});\n    const oldSelectionID = useRef(null);\n    const boundaryLayerChangeTimeout = useRef(null);\n\n    useEffect(() => {\n        if (map.current) {\n            let layerList = {};\n            map.current.on(\"load\", () => {\n                const boundaryLayers = BoundaryLayers();\n                boundaryLayers.forEach(layer => {\n                    const sourceName = `${layer.id}_source`;\n\n                    let layerDeets = { ...layer };\n                    layerDeets.source = map.current.addSource(sourceName, {\n                        type: \"geojson\",\n                        data: `${process.env.PUBLIC_URL}/boundaries/${layer.polygons}`\n                    });\n\n                    layerDeets.sourceLabels = map.current.addSource(\n                        sourceName + \"_labels\",\n                        {\n                            type: \"geojson\",\n                            data: `${process.env.PUBLIC_URL}/boundaries/${layer.labels}`\n                        }\n                    );\n\n                    layerDeets.fillLayer = map.current.addLayer({\n                        id: `${layer.id}-fill`,\n                        type: \"fill\",\n                        source: sourceName,\n                        paint: {\n                            \"fill-color\": \"grey\",\n                            \"fill-opacity\": [\n                                \"case\",\n                                [\n                                    \"boolean\",\n                                    [\n                                        \"coalesce\",\n                                        [\"feature-state\", \"selected\"],\n                                        false\n                                    ],\n                                    true\n                                ],\n                                0,\n                                0.2\n                            ]\n                        },\n                        layout: {\n                            visibility:\n                                selectedLayer == layer.id ? \"visible\" : \"none\"\n                        }\n                    });\n\n                    if (layer.paintLine) {\n                        layerDeets.lineLayer = map.current.addLayer({\n                            id: `${layer.id}-line`,\n                            type: \"line\",\n                            source: sourceName,\n                            paint: {\n                                \"line-color\": [\n                                    \"case\",\n                                    [\n                                        \"boolean\",\n                                        [\n                                            \"coalesce\",\n                                            [\"feature-state\", \"selected\"],\n                                            false\n                                        ],\n                                        true\n                                    ],\n                                    \"red\",\n                                    \"black\"\n                                ],\n\n                                \"line-width\": [\n                                    \"case\",\n                                    [\n                                        \"boolean\",\n                                        [\n                                            \"coalesce\",\n                                            [\"feature-state\", \"selected\"],\n                                            false\n                                        ],\n                                        true\n                                    ],\n                                    4,\n                                    1\n                                ]\n                            },\n                            layout: {\n                                visibility:\n                                    selectedLayer == layer.id\n                                        ? \"visible\"\n                                        : \"none\"\n                            }\n                        });\n                    }\n\n                    layerDeets.labelLayer = map.current.addLayer({\n                        id: `${layer.id}-labels`,\n                        type: \"symbol\",\n                        source: sourceName + \"_labels\",\n                        layout: {\n                            visibility:\n                                selectedLayer == layer.id ? \"visible\" : \"none\",\n                            \"text-field\": [\"get\", \"geoid\"],\n                            \"text-font\": [\n                                \"Open Sans Semibold\",\n                                \"Arial Unicode MS Bold\"\n                            ],\n                            \"text-offset\": [0, 0.0],\n                            \"text-size\": 15,\n                            \"text-anchor\": \"top\",\n                            \"text-allow-overlap\": false\n                        }\n                    });\n                    layerList[layer.id] = layerDeets;\n                });\n                setLayers(layerList);\n            });\n        }\n    }, [map]);\n\n    useEffect(() => {\n        if (map.current) {\n            const updateVisibility = () => {\n                console.log(\"SELECTED LAYER IS \", selectedLayer);\n                if (\n                    map.current.isStyleLoaded() &&\n                    (map.current.getLayer(selectedLayer + \"-fill\") ||\n                        selectedLayer === \"tracts\")\n                ) {\n                    console.log(\n                        \"Actually changing layers \",\n                        selectedLayer,\n                        layers\n                    );\n                    Object.entries(layers).forEach(([id, layer]) => {\n                        console.log(\"comparing \", id, selectedLayer);\n                        map.current.setFeatureState(\n                            {\n                                source: layer.id + \"_source\",\n                                id: oldSelectionID.current\n                            },\n                            { selected: false }\n                        );\n                        map.current.setLayoutProperty(\n                            `${layer.id}-line`,\n                            \"visibility\",\n                            id == selectedLayer ? \"visible\" : \"none\"\n                        );\n                        map.current.setLayoutProperty(\n                            `${layer.id}-labels`,\n                            \"visibility\",\n                            id == selectedLayer ? \"visible\" : \"none\"\n                        );\n                        map.current.setLayoutProperty(\n                            `${layer.id}-fill`,\n                            \"visibility\",\n                            id == selectedLayer ? \"visible\" : \"none\"\n                        );\n                    });\n                } else {\n                    if (boundaryLayerChangeTimeout.current) {\n                        clearTimeout(boundaryLayerChangeTimeout.current);\n                        boundaryLayerChangeTimeout.current = null;\n                    }\n                    boundaryLayerChangeTimeout.current = setTimeout(\n                        updateVisibility,\n                        500\n                    );\n                }\n            };\n            updateVisibility();\n        }\n    }, [map, selectedLayer, layers]);\n\n    useEffect(() => {\n        const source_name = `${selectedLayer}_source`;\n\n        if (map.current && selectedGeomID) {\n            if (oldSelectionID.current) {\n                map.current.setFeatureState(\n                    { source: source_name, id: oldSelectionID.current },\n                    { selected: false }\n                );\n            }\n\n            map.current.setFeatureState(\n                { source: source_name, id: selectedGeomID },\n                { selected: true }\n            );\n            oldSelectionID.current = selectedGeomID;\n        }\n    }, [selectedGeomID, selectedLayer, map]);\n\n    useEffect(() => {\n        if (map.current) {\n            const boundaryLayers = BoundaryLayers();\n            boundaryLayers.forEach(layer => {\n                map.current.on(\"click\", `${layer.id}-fill`, e => {\n                    if (onClick) {\n                        onClick(e.features[0], layer.id);\n                    }\n                });\n            });\n        }\n    }, [map]);\n    return layers;\n}\n","import React from 'react';\nimport {BrowserRouter as Router, Route} from 'react-router-dom';\nimport MainPage from './pages/MainPage';\nimport './App.scss';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router basename={process.env.PUBLIC_URL}>\n        <Route path=\"/\" component={MainPage} />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}